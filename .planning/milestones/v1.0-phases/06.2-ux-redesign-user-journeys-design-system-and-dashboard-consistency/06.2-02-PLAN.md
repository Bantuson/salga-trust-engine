---
phase: 06.2-ux-redesign-user-journeys-design-system-and-dashboard-consistency
plan: 02
type: execute
wave: 2
depends_on: ["06.2-01"]
files_modified:
  - frontend-public/package.json
  - frontend-public/src/App.tsx
  - frontend-public/src/App.css
  - frontend-public/src/pages/LandingPage.tsx
  - frontend-public/src/pages/TransparencyDashboardPage.tsx
  - frontend-public/src/pages/ReportRedirectPage.tsx
  - frontend-public/src/pages/AboutPage.tsx
  - frontend-public/src/components/layout/PublicHeader.tsx
  - frontend-public/src/components/layout/PublicFooter.tsx
autonomous: true

must_haves:
  truths:
    - "Public site has 4 distinct pages: Landing (/), Transparency Dashboard (/dashboard), Report Issue (/report), About (/about)"
    - "Transparency Dashboard is a SEPARATE dedicated page, NOT embedded in landing"
    - "Transparent header overlays hero content and solidifies on scroll"
    - "Report Issue page redirects citizens to municipal dashboard login"
    - "Hero CTA button links to /dashboard (View Municipal Performance)"
    - "Mobile navigation uses hamburger menu"
  artifacts:
    - path: "frontend-public/src/pages/TransparencyDashboardPage.tsx"
      provides: "Dedicated transparency dashboard page with 3D globe + data panels"
      contains: "TransparencyDashboardPage"
    - path: "frontend-public/src/pages/AboutPage.tsx"
      provides: "About/How It Works page explaining SALGA Trust Engine"
      contains: "AboutPage"
    - path: "frontend-public/src/pages/ReportRedirectPage.tsx"
      provides: "Report Issue redirect to municipal dashboard"
      contains: "municipal dashboard"
    - path: "frontend-public/src/components/layout/PublicHeader.tsx"
      provides: "Transparent header with nav links and Report Issue CTA"
      contains: "PublicHeader"
  key_links:
    - from: "frontend-public/src/App.tsx"
      to: "frontend-public/src/pages/TransparencyDashboardPage.tsx"
      via: "React Router route /dashboard"
      pattern: "path.*dashboard"
    - from: "frontend-public/src/components/layout/PublicHeader.tsx"
      to: "frontend-public/src/pages/ReportRedirectPage.tsx"
      via: "Report Issue CTA link"
      pattern: "/report"
    - from: "frontend-public/src/components/landing/HeroSection.tsx"
      to: "/dashboard"
      via: "CTA button navigation"
      pattern: "View Municipal Performance"
---

<objective>
Restructure the public site from a single-page scroll into a proper 4-page application with React Router. Separate the transparency dashboard into its own dedicated page. Add transparent header navigation, About page, and Report Issue redirect.

Purpose: The transparency dashboard must be a dedicated page (locked decision), not embedded in the landing scroll. The landing page is marketing/brand, the dashboard is data. Clear navigation enables citizens to find what they need.

Output: Public site with proper routing, 4 pages, shared header/footer, and transparent-to-solid header navigation.
</objective>

<execution_context>
@C:/Users/Bantu/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Bantu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.2-ux-redesign-user-journeys-design-system-and-dashboard-consistency/06.2-CONTEXT.md
@.planning/phases/06.2-ux-redesign-user-journeys-design-system-and-dashboard-consistency/06.2-01-SUMMARY.md
@frontend-public/src/App.tsx
@frontend-public/src/pages/LandingPage.tsx
@frontend-public/src/pages/PublicDashboardPage.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install React Router and create page structure with routing</name>
  <files>
    frontend-public/package.json
    frontend-public/src/App.tsx
    frontend-public/src/pages/TransparencyDashboardPage.tsx
    frontend-public/src/pages/ReportRedirectPage.tsx
    frontend-public/src/pages/AboutPage.tsx
    frontend-public/src/pages/LandingPage.tsx
  </files>
  <action>
    **1. Install react-router-dom:**
    ```bash
    cd frontend-public && npm install react-router-dom
    ```

    **2. Restructure App.tsx with React Router:**
    - Replace the current single-scroll layout with `BrowserRouter` + `Routes`
    - Keep `LenisProvider` wrapping everything
    - Routes:
      - `/` → LandingPage (marketing/brand with scroll storytelling)
      - `/dashboard` → TransparencyDashboardPage (dedicated transparency dashboard)
      - `/report` → ReportRedirectPage (redirect to municipal dashboard)
      - `/about` → AboutPage (How It Works)
      - `*` → redirect to `/`
    - Wrap routes in `PublicHeader` and `PublicFooter` layout components
    - Preserve existing footer privacy notice about GBV exclusion

    **3. Update LandingPage.tsx:**
    - Remove the embedded PublicDashboardPage section that currently lives at the bottom
    - Keep all 7 scroll storytelling sections (Hero, Problem, Solution, Features, LiveStats, MunicipalityShowcase, DashboardPreview)
    - Update the DashboardPreview section: instead of cross-fading into an embedded dashboard, make it a CTA that links to `/dashboard`
    - Update HeroSection CTA button: change from `#dashboard` anchor to React Router `Link to="/dashboard"` with text "View Municipal Performance"
    - The landing page should end with a clear CTA section: "Ready to see how your municipality performs? [View Dashboard]"

    **4. Create TransparencyDashboardPage.tsx:**
    - This is a DEDICATED page (locked decision: separate from landing)
    - Import and render the existing `PublicDashboardPage` content (municipality selector, charts, heatmap)
    - Add page header: "Municipal Transparency Dashboard" with subtitle
    - Optionally show the 3D globe as an interactive header element (reuse from landing)
    - Add progressive disclosure pattern: municipality overview cards at top, click to expand into detailed charts
    - Import shared GlassCard for card containers
    - Import NdebelePattern for subtle section dividers between data sections

    **5. Create ReportRedirectPage.tsx:**
    - Simple page with messaging: "Report a Municipal Issue"
    - Body: "To report an issue, please sign in to the municipal dashboard. You'll need a verified account linked to your municipality."
    - Two CTAs:
      - "Sign In" → external link to municipal dashboard URL (use environment variable or hardcoded placeholder)
      - "Register" → same link with #register hash
    - Include "Don't have an account?" section explaining the registration process
    - Style with shared GlassCard component

    **6. Create AboutPage.tsx:**
    - "How SALGA Trust Engine Works" page
    - Sections:
      1. What is SALGA Trust Engine? (brief overview paragraph)
      2. How It Works (3-step process: Report → Track → Resolve with icons)
      3. For Citizens (benefits list)
      4. For Municipalities (benefits list)
      5. FAQ section (4-5 collapsible Q&A items using basic details/summary HTML elements)
    - Use GlassCard for section containers
    - Use NdebelePattern border variant as section dividers
    - Style with shared design tokens
  </action>
  <verify>
    - `grep "react-router-dom" frontend-public/package.json` — dependency installed
    - `grep "BrowserRouter\|Routes\|Route" frontend-public/src/App.tsx` — router configured
    - `ls frontend-public/src/pages/TransparencyDashboardPage.tsx frontend-public/src/pages/ReportRedirectPage.tsx frontend-public/src/pages/AboutPage.tsx` — all pages exist
    - `grep "/dashboard" frontend-public/src/App.tsx` — dashboard route exists
    - `grep "Link.*dashboard" frontend-public/src/pages/LandingPage.tsx frontend-public/src/components/landing/HeroSection.tsx` — hero CTA uses router Link
  </verify>
  <done>
    4-page structure with React Router: Landing (/), Transparency Dashboard (/dashboard), Report Issue (/report), About (/about). Transparency dashboard is a separate dedicated page. Hero CTA links to /dashboard.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create transparent header navigation and footer</name>
  <files>
    frontend-public/src/components/layout/PublicHeader.tsx
    frontend-public/src/components/layout/PublicFooter.tsx
    frontend-public/src/App.css
  </files>
  <action>
    **1. Create PublicHeader.tsx:**
    - Transparent header that overlays hero content initially, solidifies on scroll
    - Fixed position at top, z-index above content
    - Scroll behavior: use `useState` + `useEffect` with scroll listener
      - scrollY < 50: transparent background (`rgba(10, 14, 26, 0)`)
      - scrollY >= 50: solid background (`rgba(10, 14, 26, 0.95)`) with `backdrop-filter: blur(10px)` and subtle bottom border
      - Smooth transition between states (0.3s ease)
    - Layout:
      - Left: Logo "SALGA Trust Engine" (Space Grotesk font, coral-to-teal gradient text)
      - Center: Nav links — Home (/), Dashboard (/dashboard), About (/about)
      - Right: "Report Issue" CTA button (coral background, links to /report)
    - Active state: current route gets coral underline + white text
    - Use React Router `NavLink` for active state detection
    - Mobile (< 768px):
      - Hide nav links and CTA, show hamburger icon (three horizontal lines)
      - Hamburger opens a full-screen overlay menu with glassmorphism background
      - Menu links: same as desktop, plus "Report Issue" as prominent button
      - Close button (X) in top-right
    - Import `useReducedMotion` from shared hooks — skip transition if reduced motion

    **2. Create PublicFooter.tsx:**
    - Dark footer with subtle top border
    - Three columns (stack on mobile):
      - Left: Logo + tagline "Transparent municipal service delivery for South Africa"
      - Center: Quick links — Home, Dashboard, Report Issue, About
      - Right: "Emergency Numbers" — Police: 10111, GBV Helpline: 0800 150 150
    - Bottom bar: copyright + privacy notice "GBV and sensitive reports are excluded from all public statistics"
    - Use NdebelePattern border variant as top decoration (very subtle)

    **3. Update App.css:**
    - Add styles for PublicHeader transparent-to-solid transition
    - Add styles for mobile hamburger menu overlay
    - Add styles for PublicFooter layout
    - Add active NavLink styling (coral underline)
    - Ensure header/footer use shared design token variables
    - Remove the old inline footer styles from the current App.tsx layout

    **4. Update App.tsx:**
    - Integrate PublicHeader and PublicFooter as layout wrapper around Routes
    - Structure:
      ```tsx
      <BrowserRouter>
        <LenisProvider>
          <PublicHeader />
          <main>
            <Routes>
              <Route path="/" element={<LandingPage />} />
              <Route path="/dashboard" element={<TransparencyDashboardPage />} />
              <Route path="/report" element={<ReportRedirectPage />} />
              <Route path="/about" element={<AboutPage />} />
            </Routes>
          </main>
          <PublicFooter />
        </LenisProvider>
      </BrowserRouter>
      ```

    **Build verification:**
    Run `cd frontend-public && npm run build` to verify everything compiles and builds successfully.
  </action>
  <verify>
    - `ls frontend-public/src/components/layout/PublicHeader.tsx frontend-public/src/components/layout/PublicFooter.tsx` — both exist
    - `grep "scrollY\|scroll" frontend-public/src/components/layout/PublicHeader.tsx` — scroll listener for transparency
    - `grep "hamburger\|mobile-menu" frontend-public/src/components/layout/PublicHeader.tsx frontend-public/src/App.css` — mobile menu exists
    - `grep "NavLink" frontend-public/src/components/layout/PublicHeader.tsx` — uses React Router NavLink
    - `cd frontend-public && npm run build` — builds successfully
  </verify>
  <done>
    Transparent header with scroll-triggered solidification, mobile hamburger menu, and proper navigation. Footer with emergency numbers and privacy notice. Both integrated into App.tsx wrapping all routes.
  </done>
</task>

</tasks>

<verification>
1. Public site has 4 navigable pages: `/`, `/dashboard`, `/report`, `/about`
2. Transparency dashboard is at `/dashboard` as a SEPARATE page (not embedded in landing scroll)
3. Header is transparent over hero, solidifies on scroll
4. Mobile hamburger menu works on narrow screens
5. Hero CTA button navigates to /dashboard with React Router Link
6. Report page explains sign-in requirement and links to municipal dashboard
7. About page has process overview, benefits, and FAQ
8. Footer shows emergency numbers and GBV privacy notice
9. `npm run build` succeeds with zero errors
</verification>

<success_criteria>
- Citizens can navigate between 4 pages via header
- Transparency dashboard lives at its own URL (/dashboard), separate from landing
- Landing page is marketing-focused; dashboard page is data-focused
- Mobile users get hamburger menu
- Header transparency creates premium aesthetic on landing hero
</success_criteria>

<output>
After completion, create `.planning/phases/06.2-ux-redesign-user-journeys-design-system-and-dashboard-consistency/06.2-02-SUMMARY.md`
</output>
