---
phase: 06.8-gugu-persona-email-otp-fix
plan: 01
subsystem: agent-prompts
tags: [agent-persona, trilingual, auth-agent, municipal-agent, gbv-agent, gugu]
dependency_graph:
  requires: []
  provides:
    - Gugu persona in AUTH_PROMPTS dict (en/zu/af backstory strings)
    - Gugu persona in MUNICIPAL_INTAKE_PROMPTS dict (en/zu/af backstory strings)
    - Gugu identity in GBV_INTAKE_PROMPTS dict (en/zu/af backstory strings)
  affects:
    - src/agents/crews/auth_crew.py (consumes AUTH_PROMPTS as agent backstory)
    - src/agents/crews/municipal_crew.py (consumes MUNICIPAL_INTAKE_PROMPTS as agent backstory)
    - src/agents/crews/gbv_crew.py (consumes GBV_INTAKE_PROMPTS as agent backstory)
tech_stack:
  added: []
  patterns:
    - Persona injection via agent backstory string (CrewAI pattern)
    - Minimal-touch GBV modification (trauma-informed safety boundary)
key_files:
  modified:
    - src/agents/prompts/auth.py
    - src/agents/prompts/municipal.py
    - src/agents/prompts/gbv.py
decisions:
  - GBV agent gets identity (Gugu name + SALGA Trust Engine) but NO chatty intro, NO name-asking — preserves trauma-informed protocol
  - Auth and municipal agents get full Gugu persona: warm intro, name-asking, platform mission, citizen name usage in examples
  - Afrikaans and isiZulu translations written to match existing language register (not machine-translated)
metrics:
  duration: 7m (436s)
  completed: 2026-02-17
  tasks_completed: 2
  files_modified: 3
---

# Phase 06.8 Plan 01: Gugu Persona Agent Backstory Enhancement Summary

**One-liner:** Gugu persona (feminine, warm, name-asking, SALGA Trust Engine context) applied to all 9 backstory strings across auth, municipal, and GBV agents in EN/ZU/AF.

## What Was Built

All three CrewAI agent prompt modules updated with the Gugu persona — a warm, caring, feminine community liaison identity. The persona is calibrated differently per agent type:

**Auth and Municipal agents (full Gugu persona):**
- Identity line: "You are Gugu, a citizen support/municipal services intake specialist at the SALGA Trust Engine"
- Platform mission context: the feedback loop that transforms opaque local government into transparent service delivery
- Name-asking instruction: introduce warmly at conversation start, ask for citizen's name, use it throughout
- Tone upgrade: "genuinely warm and chatty — you care about every citizen" (vs generic "be warm and conversational")
- Example conversations updated: Gugu introduces herself by name, learns and uses the citizen's name (Nomsa, Thabo, Nompilo, Chantelle, etc.)

**GBV agent (minimal identity only):**
- Identity line: "You are Gugu, a trained crisis support specialist at the SALGA Trust Engine"
- One sentence of platform context (GBV reports reach SAPS safely and confidentially)
- NO chatty intro, NO name-asking (trauma-informed protocol preserved)
- ALL existing content preserved verbatim: TONE AND APPROACH, DO NOT ASK rules, emergency numbers (10111, 0800 150 150), FINAL REASSURANCE, example conversations

## Tasks Completed

| Task | Name | Commit | Files |
|------|------|--------|-------|
| 1 | Add Gugu persona to auth and municipal agent backstory prompts (6 language variants) | af199ca | src/agents/prompts/auth.py, src/agents/prompts/municipal.py |
| 2 | Add Gugu identity to GBV agent backstory with trauma-informed balance | bbe4dcc | src/agents/prompts/gbv.py |

## Verification Results

All 9 backstory strings verified:
- AUTH_PROMPTS en/zu/af: Gugu=True (all 3)
- MUNICIPAL_INTAKE_PROMPTS en/zu/af: Gugu=True (all 3)
- GBV_INTAKE_PROMPTS en/zu/af: Gugu=True, 10111=True, 0800 150 150=True (all 3)

Guardrails verified:
- NEVER blame in EN GBV: True
- DO NOT ASK in EN GBV: True
- UNGABUZI in ZU GBV: True
- MOENIE VRA in AF GBV: True
- name-asking in GBV EN: False (correct — GBV must NOT ask for name)

All Python imports verified OK:
- AUTH_PROMPTS, AUTH_TASK_TEMPLATE, build_auth_task_description, AuthResult
- MUNICIPAL_INTAKE_PROMPTS, CATEGORY_CLASSIFICATION_PROMPT (unchanged)
- GBV_INTAKE_PROMPTS, EMERGENCY_SAPS, EMERGENCY_GBV_COMMAND_CENTRE, GBV_CLASSIFICATION_KEYWORDS

## Deviations from Plan

None — plan executed exactly as written. The 2-task scope was precisely defined and all constraints were met without deviation.

## Decisions Made

- Auth and municipal agents: full Gugu persona with name-asking and example conversation updates. Every citizen reaching out deserves a warm, human interaction.
- GBV agent: identity-only change (2 lines). The trauma-informed approach is a patient safety feature — the plan explicitly called for minimal changes and this was honored.
- isiZulu: "ngubani igama lakho?" for name-asking (natural phrasing matching existing register). Platform context translated to match the direct, action-oriented Zulu voice in the existing prompts.
- Afrikaans: "wat is jou naam?" / "mag ek vra — wat is jou naam?" for name-asking. Platform context uses "aanspreeklike dienslewering" (accountable service delivery) matching existing Afrikaans vocabulary in the file.

## Self-Check: PASSED

Files exist:
- src/agents/prompts/auth.py: FOUND
- src/agents/prompts/municipal.py: FOUND
- src/agents/prompts/gbv.py: FOUND

Commits exist:
- af199ca: FOUND (feat(06.8-01): add Gugu persona to auth and municipal agent backstory prompts)
- bbe4dcc: FOUND (feat(06.8-01): add Gugu identity to GBV agent backstory with trauma-informed balance)
