# Phase 6.4: Dashboard Landing Pages, Public Hero Polish, and Citizen Auth Architecture - Context

**Gathered:** 2026-02-13
**Status:** Ready for planning

<domain>
## Phase Boundary

Establish citizen authentication on the public portal (frontend-public), build the citizen report form and profile page, add auth-gated boundaries, polish the public landing page with scroll animations and readability fixes, and enhance the municipal dashboard login page with product info. All existing page structure and backend functionality stays — this adds citizen-facing auth flows and UI polish.

</domain>

<decisions>
## Implementation Decisions

### Citizen Authentication Flow
- Both phone OTP AND email+password options available (citizen chooses)
- Proof of residence NOT required at signup — required before first report submission
- Citizen login/register pages use same premium style as municipal dashboard (skyline background, glassmorphic card, GSAP animations)
- Post-login redirects to the originally intended page (My Reports or Report Issue — whichever triggered the auth gate)
- Auth gate happens once per session — after login, citizen navigates freely between all pages (including public dashboard and home)

### Citizen Reporting Experience
- Both web form AND WhatsApp channels available for reporting
- Web report form reuses full ReportForm component (category, description, photos, GPS, address fallback)
- GBV appears as a category in the report form — selecting it shows consent dialog + emergency numbers (10111, 0800 150 150) before proceeding
- Proof of residence verification: inline blocker on first report AND available in profile page with missing indicator
- Post-submit shows full glassmorphic receipt card: tracking number (TKT-...), category, description summary, expected response time, WhatsApp notification opt-in
- Receipt card has two CTAs: "Submit Another Report" and "View My Reports"
- Report form is single scrollable form (not multi-step wizard)
- Report form page uses premium full-page style (skyline background, glassmorphic card containing form)
- "Report Issue" button on public landing page links to /report (auth-gated) — redirects to login if not authenticated, then back to report form

### Auth-gated Boundaries
- Protected pages: My Reports, Report Issue, Profile — require citizen login
- Public pages: Landing, Transparency Dashboard, About — always accessible (logged in or not)
- Unauthenticated users hitting protected pages get redirected to citizen login page with return URL
- "My Reports" nav button in existing header serves as the auth entry point — clicking when not logged in triggers login redirect

### Header States (Public Portal)
- Unauthenticated: existing nav (Home, Dashboard, About, My Reports, Report Issue CTA) — no changes needed
- Authenticated: add user menu dropdown (avatar/name) with: My Reports, Profile, Report Issue, Sign Out
- Existing "My Reports" nav link stays — it's the auth gateway

### Citizen Profile Page
- Full profile page showing: name, email/phone, municipality, verification status, uploaded residence docs, edit profile
- Proof of residence verification available here with clear "not verified" indicator if missing
- Profile page is auth-gated (same as My Reports and Report Issue)

### Landing Page Polish (Public Portal)
- All 5 sections (Hero, Problem, Solution, Features, DashboardCTA) get GSAP scroll-triggered animations
- Full scroll storytelling: each section fades/slides in, staggered entrance for cards and text blocks
- Hero text readability fix: pink/rose semi-transparent overlay on the skyline behind text area
- Hero subtitle and CTA need solid background treatment for visibility against skyline photograph

### Municipal Dashboard Landing
- Keep login page as entry point (no separate landing page)
- Enhance existing login page with product info/branding — add description of what the municipal dashboard offers
- "Sign In" and "Request Access" buttons both visible on enhanced login page

### Claude's Discretion
- Exact GSAP animation timing and easing for scroll-triggered sections
- Auth context provider architecture (React context pattern)
- Protected route wrapper implementation
- Profile page layout and form field arrangement
- WhatsApp deep link format on the report channel choice
- Pink/rose overlay opacity level on hero section (balance readability vs skyline visibility)

</decisions>

<specifics>
## Specific Ideas

- "My Reports button already exists in navbar — it should open to auth-gated dashboard that shows reports and profile in top navbar"
- Hero section text "Track service delivery, hold municipalities accountable, and see real results across South Africa" plus "View Municipal Performance" CTA needs solid background — currently not well visible against skyline
- Citizen auth should feel consistent with municipal dashboard premium style but serve a different audience (citizens vs municipal staff)
- After auth, user can still navigate between dashboard and home freely — auth gate is session-based, not page-based

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 06.4-dashboard-landing-pages-public-hero-polish-and-citizen-auth-architecture-on-public-portal*
*Context gathered: 2026-02-13*
