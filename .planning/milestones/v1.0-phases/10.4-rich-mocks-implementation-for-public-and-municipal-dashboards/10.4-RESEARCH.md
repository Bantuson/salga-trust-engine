# Phase 10.4: Rich Mocks Implementation for Public and Municipal Dashboards - Research

**Researched:** 2026-02-27
**Domain:** Frontend mock data injection — TypeScript/React data files, hook interception, no new libraries
**Confidence:** HIGH

<user_constraints>
## User Constraints (from CONTEXT.md)

### Locked Decisions

**Data Realism:**
- Fully authentic SA data: real municipality names (eThekwini, Mangaung, Buffalo City, etc.), real ward numbers, culturally authentic citizen names (Zulu, Afrikaans, English mix — e.g., Sipho Ndlovu, Pieter van der Merwe, Nomsa Khumalo)
- Real SA municipal issues for ticket descriptions: potholes, water outages, streetlight failures, sewage overflows, billing disputes
- Mixed trilingual ticket descriptions: some in isiZulu ("Amanzi awekho eWard 12"), some in Afrikaans ("Straatlig is stukkend"), most in English
- GBV-related mock tickets included, visible only to SAPS liaison/admin roles — demonstrates SEC-05 firewall in action
- Recent timestamps only (last few days) — system feels active and alive
- ~30-40 mock users across all 6 roles (citizen, manager, admin, field_worker, saps_liaison, ward_councillor)
- Initial-based avatars (colored circles with initials: "SN", "PvdM") — clean, no licensing concerns

**Data Storage:**
- Frontend mock files (JSON/TS) imported by components — no backend dependency
- Can swap to real API later without changing component interfaces

**Visual Density:**
- ~15-25 tickets in municipal dashboard — enough to demo filtering/sorting without overwhelming
- Optimistic status distribution: ~15% open, ~20% in progress, ~5% escalated, ~50% resolved, ~10% closed
- Public transparency dashboard: active and transparent — multiple recent resolutions, ward-level breakdowns, satisfaction scores visible
- Every page populated — no empty states anywhere

**Charts & Metrics:**
- Improvement arc narrative: trends going up (resolution rate improving, response time decreasing, citizen satisfaction climbing)
- Municipal dashboard KPIs: service delivery focused — average resolution time, SLA compliance %, tickets resolved today, citizen satisfaction score
- Public transparency dashboard: trust-building metrics — average response time, % issues resolved, satisfaction ratings, ward-level performance comparisons
- Default time range: last 30 days for all charts

**Page Coverage (municipal dashboard):**
- Dashboard (home), Ticket List, Analytics, Teams, Settings, Completed Tickets, Field Worker Tickets, SAPS Reports, Onboarding Wizard

**Page Coverage (public dashboard):**
- Landing, Transparency Dashboard, Citizen Portal (3-5 past tickets with status updates and resolution notes), Report Issue, About, Profile
- Settings shows real config options, Teams shows actual team members with roles
- SAPS Reports page shows anonymized GBV case data with sensitive but non-graphic descriptions — demonstrates SEC-05
- Citizen portal shows full citizen experience: past ticket history with statuses, timestamps, and resolution notes

### Claude's Discretion
- Exact mock data file structure and naming conventions
- Chart library and visualization approach
- Specific avatar color palette
- How mock data modules export/import across components
- Exact number of data points per chart for the 30-day range

### Deferred Ideas (OUT OF SCOPE)
None — discussion stayed within phase scope
</user_constraints>

---

## Summary

This phase is a pure frontend data-layer enhancement: replace sparse placeholder/skeleton content across both dashboards with rich, SA-authentic mock data. The work is entirely in TypeScript/React data files and hook-level interception — no new backend code, no new libraries, no new pages or components.

The pattern is already proven in the codebase. `frontend-public` already has a `src/data/mockDashboardData.ts` file that feeds `usePublicStats.ts` as the fallback when Supabase returns empty results. `frontend-dashboard`'s `useCitizenReports.ts` (in `frontend-public`) already has `DEMO_TICKETS` / `DEMO_STATS` constants used when no auth session exists. The task is to extend this exact pattern to every page in both frontends: create mock data files, then wire them as fallback returns when API calls fail/return empty.

The key architectural insight: every hook in both frontends already follows a try/catch fallback pattern. The dashboard hooks (`useTeams`, `useSettings`, `useAnalytics`, `useRealtimeTickets`) call live API endpoints and show empty/error states on failure. The upgrade is to intercept those failures (or add a mock-mode bypass) and return rich static data instead. This keeps component interfaces completely unchanged — no prop types need to change.

**Primary recommendation:** Create a single `src/mocks/` directory in each frontend. Each mock module exports typed constants matching the exact TypeScript interfaces already defined in `src/types/`. Wire the mock data as fallbacks in the relevant hooks and service calls. No new libraries needed — Recharts is already installed in both frontends.

---

## Standard Stack

### Core (already installed — no new packages needed)
| Library | Version | Purpose | Status |
|---------|---------|---------|--------|
| `recharts` | ^2.15.4 | Charts (BarChart, LineChart, PieChart) | Already in both frontends |
| `date-fns` | ^4.1.0 | Timestamp generation helpers | Already in dashboard frontend |
| `@tanstack/react-table` | ^8.21.3 | Ticket table (already receives data via props) | Already in dashboard |
| TypeScript | ~5.9.3 | Type-safe mock data matching existing interfaces | Already configured |

### Supporting
| Library | Version | Purpose | When to Use |
|---------|---------|---------|-------------|
| `zustand` | ^5.0.11 | Dashboard store (already set up) | Pre-populated mock state |
| SVG (inline) | native | Donut/sparkline charts on SAPS page | Already used in SAPSReportsPage |
| Pure CSS bars | native | Analytics leaderboard bars | Already used in CategoryComparison |

### Alternatives Considered
| Instead of | Could Use | Tradeoff |
|------------|-----------|----------|
| TypeScript constants | JSON files | TS constants are type-safe and can include helper functions; JSON requires manual type casting |
| Hook-level fallback | Component-level fallback | Hook-level keeps components clean; no prop drilling of mock flags |
| Separate mock mode flag | Environment variable | Environment variables require rebuild; runtime fallback on API failure is simpler and already the established pattern |

**Installation:** None required. All needed libraries are already installed.

---

## Architecture Patterns

### Recommended Mock File Structure

```
frontend-dashboard/src/
├── mocks/
│   ├── index.ts                  # Re-exports all mock data
│   ├── mockTickets.ts            # 20-25 Ticket[] (municipal dashboard)
│   ├── mockTeams.ts              # Team[], TeamMember[] per team
│   ├── mockAnalytics.ts          # AnalyticsData for 30d range
│   ├── mockSettings.ts           # SLAConfig[], MunicipalityProfile
│   ├── mockUsers.ts              # 30-40 user profiles with roles + avatars
│   └── mockSAPSCases.ts          # GBV Ticket[] (is_sensitive=true)

frontend-public/src/
└── data/
    ├── mockDashboardData.ts      # Already exists — EXTEND, don't duplicate
    ├── mockCitizenTickets.ts     # CitizenTicket[] for demo mode (5 tickets)
    └── mockUsers.ts              # Citizen profile mock data
```

### Pattern 1: Hook-Level Fallback (Established Pattern)

**What:** Hooks already catch API errors and fall back to mock. Extend this pattern to return rich data instead of empty arrays.

**When to use:** All dashboard hooks (`useTeams`, `useSettings`, `useAnalytics`, `fetchTickets`, `fetchDashboardMetrics`, etc.)

**Example — existing pattern in usePublicStats.ts:**
```typescript
// Source: frontend-public/src/hooks/usePublicStats.ts (existing)
} catch (err) {
  // Rich fallback — already works today
  setData(mockMunicipalities);
  setError(null);  // Error suppressed — user sees data, not error state
} finally {
  setIsLoading(false);
}
```

**Example — applying same pattern to useTeams.ts:**
```typescript
// Source: frontend-dashboard/src/hooks/useTeams.ts (to be modified)
import { mockTeams } from '../mocks/mockTeams';

const refreshTeams = useCallback(async () => {
  try {
    setIsLoading(true);
    setError(null);
    const data = await fetchTeams();
    setTeams(data.length > 0 ? data : mockTeams);  // fallback when API empty
  } catch (err) {
    setTeams(mockTeams);  // fallback on error
    setError(null);       // suppress error, show data instead
  } finally {
    setIsLoading(false);
  }
}, []);
```

### Pattern 2: Demo Mode Bypass (Established Pattern)

**What:** `useCitizenReports.ts` already checks for `!session` and returns `DEMO_TICKETS` / `DEMO_STATS`. This pattern should be enriched with authentic SA data.

**When to use:** Citizen Portal in `frontend-public` — the existing demo mode already works; the task is replacing `DEMO_TICKETS` content with richer, SA-authentic data.

**Example — current DEMO_TICKETS (to be replaced):**
```typescript
// Source: frontend-public/src/hooks/useCitizenReports.ts (existing — replace content)
const DEMO_TICKETS: CitizenTicket[] = [
  {
    tracking_number: 'TKT-20260211-DEMO01',
    category: 'potholes',
    status: 'in_progress',
    created_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    address: '123 Main St, Demo City',  // <-- not SA-authentic, replace
    ...
  }
];
```

**Replacement approach — import from mock file:**
```typescript
// After phase 10.4 — import from central mock file
import { DEMO_TICKETS, DEMO_STATS } from '../data/mockCitizenTickets';
```

### Pattern 3: Zustand Store Pre-Population

**What:** `dashboardStore.ts` stores metrics/volumeData/slaData/workloadData. `DashboardPage.tsx` calls `fetchAllData()` which hits the API. If the API is down, `metrics` stays null and the page shows skeletons forever.

**When to use:** `DashboardPage.tsx` — intercept the `fetchAllData` error path to inject mock metrics.

**Example:**
```typescript
// Source: frontend-dashboard/src/pages/DashboardPage.tsx (fetchAllData to be modified)
import { mockDashboardMetrics, mockVolumeData, mockSLAData, mockWorkloadData } from '../mocks/mockAnalytics';

const fetchAllData = useCallback(async () => {
  try {
    setLoading(true);
    const [metricsRes, volumeRes, slaRes, workloadRes] = await Promise.all([...]);
    setMetrics(metricsRes.total_open > 0 ? metricsRes : mockDashboardMetrics);
    // etc.
  } catch (error) {
    // Inject mock data instead of leaving empty
    setMetrics(mockDashboardMetrics);
    setVolumeData(mockVolumeData);
    setSlaData(mockSLAData);
    setWorkloadData(mockWorkloadData);
    setLastUpdated(new Date());
  } finally {
    setLoading(false);
  }
}, [...]);
```

### Pattern 4: Ticket List Mock Injection

**What:** `TicketListPage.tsx` and `FieldWorkerTicketsPage.tsx` call `fetchTickets()`. On API failure they set `tickets = []`, showing empty state. Intercept to return mock tickets.

**When to use:** `TicketListPage`, `FieldWorkerTicketsPage`, `CompletedTicketsPage`, `SAPSReportsPage`

**Example:**
```typescript
// In loadTickets / fetchAllData error handlers:
import { mockTickets, mockSAPSTickets } from '../mocks/mockTickets';

} catch (err) {
  setTickets(mockTickets);  // or mockSAPSTickets for SAPS page
  setPageCount(1);
}
```

### Anti-Patterns to Avoid

- **Hardcoding mock data inline in components:** Scatter-gun approach makes future swap to real API require touching every component. Put all mock data in `src/mocks/` and import.
- **Creating a `MOCK_MODE` flag threaded through props:** Adds complexity. The fallback-on-empty/error pattern is simpler and already established.
- **Using `Math.random()` for "dynamic" mock data:** Creates non-deterministic data that looks different on every render. Use static constants — predictable, reviewable, demo-safe.
- **Changing TypeScript interfaces to accommodate mock data:** If mock data requires interface changes, the mock data is wrong, not the interface. Match the existing types exactly.
- **Importing mock data at the page level instead of hook level:** Keeps separation of concerns. Hooks own data fetching; pages consume hooks.

---

## Don't Hand-Roll

| Problem | Don't Build | Use Instead | Why |
|---------|-------------|-------------|-----|
| Chart rendering | Custom SVG bar/line charts | Recharts (already installed) | Recharts handles responsive, accessible charts; already used in VolumeChart, SLAComplianceChart, TeamWorkloadChart |
| Avatar initials | Image loading + fallback logic | Inline SVG/div with colored background + initials string | Already the decided approach; zero dependencies |
| Timestamp generation | Custom date math | `new Date(Date.now() - N * 86400000).toISOString()` | One-liner; date-fns already available if needed for formatting |
| Tracking number format | Custom ID generator | Static string constants `'TKT-20260225-ETH001'` | Deterministic, predictable, matches observed format in codebase |

**Key insight:** This phase is about data content, not new infrastructure. The rendering infrastructure (charts, tables, modals, cards) already exists and already renders correctly given data. The only work is filling in that data.

---

## Common Pitfalls

### Pitfall 1: Type Mismatches Between Mock Data and Interfaces
**What goes wrong:** Mock ticket has `category: 'roads'` but the app's `categories.ts` constant only recognizes `'potholes' | 'water' | 'electricity' | 'sewage' | 'other'` — category badge renders incorrectly.
**Why it happens:** Mock data authored without checking the constants file.
**How to avoid:** Read `frontend-dashboard/src/constants/categories.ts` before authoring tickets. Use only values defined there.
**Warning signs:** TypeScript errors on `category` field; status badges rendering as grey "unknown."

### Pitfall 2: Timestamp Drift — Mocks Become Stale
**What goes wrong:** Mock tickets hardcode `created_at: '2026-02-25T10:00:00Z'`. Six months later the app shows 180-day-old tickets as "recent."
**Why it happens:** Absolute timestamps in static files.
**How to avoid:** Use relative timestamps: `new Date(Date.now() - 2 * 86400000).toISOString()` computed at module load time. This evaluates when the bundle loads, staying "recent" on every page visit.
**Warning signs:** Reviewing mock file and seeing hardcoded ISO strings with year/month.

### Pitfall 3: GBV Mock Tickets Visible in Wrong Views
**What goes wrong:** A mock ticket with `is_sensitive: true` shows up in TicketListPage for a `manager` role, breaking SEC-05 demonstration.
**Why it happens:** The backend normally filters GBV tickets by role, but the mock injects directly bypassing that logic.
**How to avoid:** Separate GBV mock tickets into `mockSAPSCases.ts`. Only import `mockSAPSTickets` in `SAPSReportsPage`. Never include `is_sensitive: true` tickets in `mockTickets.ts` (the general list).
**Warning signs:** Checking `mockTickets.ts` and finding any entry with `is_sensitive: true`.

### Pitfall 4: Analytics Hook Returns `null` Instead of Mock Data
**What goes wrong:** `useAnalytics` catches the error and sets `data = null`. `AnalyticsPage` renders the "No analytics data available" empty state rather than mock charts.
**Why it happens:** The hook sets `setData(null)` on error. Mock data needs to be injected in the catch block, not just logged.
**How to avoid:** In `useAnalytics` catch block, set `setData(mockAnalyticsData)` instead of `setData(null)`.
**Warning signs:** AnalyticsPage showing empty state text despite mock data being in the file.

### Pitfall 5: Public Dashboard `useSystemSummary` Returns Zeros
**What goes wrong:** `useSystemSummary` only falls back to `mockSystemSummary` when `total_municipalities === 0 && total_tickets === 0`. If Supabase returns a partial result (one count succeeds, one fails), it doesn't fall back.
**Why it happens:** The condition checks both fields simultaneously.
**How to avoid:** In the updated mock data, ensure `mockSystemSummary` reflects the richer data (5+ municipalities, 1200+ tickets). The fallback logic is already correct; just update the mock values.
**Warning signs:** Transparency Dashboard summary cards showing "2 municipalities" and "1247 tickets" — those are the old sparse values.

### Pitfall 6: Onboarding Wizard Shows Empty State
**What goes wrong:** `OnboardingWizardPage` calls `useOnboarding().loadProgress()` on mount. Without auth, it throws "User not authenticated" and the wizard shows nothing.
**Why it happens:** The wizard requires authentication but mock data bypasses that check.
**How to avoid:** The onboarding wizard is an authenticated page — mock data should be provided as wizard step defaults (pre-filled form values), not via hook interception. The wizard steps themselves have `initialValues` props that can reference mock configuration.
**Warning signs:** Onboarding page showing blank form fields with no error message.

---

## Code Examples

### Tracking Number Format (Observed in Codebase)
```typescript
// Source: frontend-public/src/hooks/useCitizenReports.ts
'TKT-20260211-DEMO01'
// Format: TKT-YYYYMMDD-{MUNICIPALITY_CODE}{SEQ}
// Examples for rich mocks:
'TKT-20260225-ETH001'  // eThekwini
'TKT-20260224-BUF002'  // Buffalo City
'TKT-20260223-NMB003'  // Nelson Mandela Bay
```

### Ticket Type Shape (from dashboard types)
```typescript
// Source: frontend-dashboard/src/types/dashboard.ts
interface Ticket {
  id: string;                        // UUID
  tracking_number: string;           // TKT-YYYYMMDD-XXXNNN
  category: string;                  // 'potholes' | 'water' | 'electricity' | 'sewage' | 'other' | 'gbv'
  description: string;               // SA-authentic, trilingual
  status: string;                    // 'open' | 'in_progress' | 'escalated' | 'resolved' | 'closed'
  severity: string;                  // 'low' | 'medium' | 'high' | 'critical'
  language: string;                  // 'en' | 'zu' | 'af'
  address: string | null;            // Real SA street addresses
  user_id: string;                   // UUID from mockUsers
  is_sensitive: boolean;             // false for general tickets
  created_at: string;                // Relative ISO timestamp
  assigned_team_id: string | null;   // UUID from mockTeams
  assigned_to: string | null;        // UUID from mockUsers
  escalated_at: string | null;
  first_responded_at: string | null; // For SLA response time
  sla_response_deadline: string | null;
  sla_resolution_deadline: string | null;
}
```

### Team Type Shape (from teams types)
```typescript
// Source: frontend-dashboard/src/types/teams.ts
interface Team {
  id: string;
  name: string;                   // "Roads & Infrastructure", "Water Services", etc.
  category: string;               // matches ticket categories
  manager_id: string | null;
  manager_name: string | null;    // SA-authentic name
  is_active: boolean;
  is_saps: boolean;               // true only for SAPS-liaison team
  member_count: number;           // 3-8 realistic
  active_ticket_count: number;    // 2-12 realistic
  created_at: string;
}
```

### CitizenTicket Type Shape (for public demo mode)
```typescript
// Source: frontend-public/src/hooks/useCitizenReports.ts
interface CitizenTicket {
  tracking_number: string;
  category?: string;
  status: string;
  created_at?: string;
  address?: string | null;
  severity?: string;
  assigned_to_name?: string | null;
  assigned_team_name?: string | null;
  media_count?: number;
  is_sensitive: boolean;
  // GBV-only fields:
  assigned_officer_name?: string | null;
  station_name?: string | null;
  station_phone?: string | null;
}
```

### Analytics Data Shape
```typescript
// Source: frontend-dashboard/src/types/analytics.ts
interface AnalyticsData {
  metrics: {
    total_open: number;               // 18 (15% of 120)
    total_resolved: number;          // 62 (last 30d)
    sla_compliance_percent: number;  // 87
    avg_response_hours: number;      // 14.2
    sla_breaches: number;            // 4
  };
  volume: Array<{
    category: string;
    open: number;
    resolved: number;
  }>;
  sla: {
    response_compliance_percent: number;
    resolution_compliance_percent: number;
    total_with_sla: number;
    response_breaches: number;
    resolution_breaches: number;
  };
  workload: Array<{
    team_id: string;
    team_name: string;
    open_count: number;
    total_count: number;
  }>;
}
```

### Relative Timestamp Helper Pattern
```typescript
// Pattern: compute relative to now at module load time
// (evaluated once per bundle load — stays "recent")
const now = Date.now();
const daysAgo = (days: number, hoursOffset = 0) =>
  new Date(now - days * 86400000 - hoursOffset * 3600000).toISOString();

// Usage:
created_at: daysAgo(1, 3),          // 1 day 3 hours ago
first_responded_at: daysAgo(1, 1),  // responded within 2 hours
sla_resolution_deadline: daysAgo(-2), // deadline is 2 days in future
```

### Public Dashboard Mock Enrichment
```typescript
// Source: frontend-public/src/data/mockDashboardData.ts (to be extended)
// Current: 2 municipalities (JHB, CPT)
// Target: 5 municipalities matching CONTEXT.md

export const mockMunicipalities: Municipality[] = [
  { id: 'eth-001', name: 'eThekwini Metropolitan', code: 'ETH', province: 'KwaZulu-Natal' },
  { id: 'man-001', name: 'Mangaung Metropolitan', code: 'MAN', province: 'Free State' },
  { id: 'buf-001', name: 'Buffalo City Metropolitan', code: 'BUF', province: 'Eastern Cape' },
  { id: 'nmb-001', name: 'Nelson Mandela Bay', code: 'NMB', province: 'Eastern Cape' },
  { id: 'joh-001', name: 'City of Johannesburg', code: 'JHB', province: 'Gauteng' },
];
```

---

## State of the Art

| Old Approach | Current Approach | Impact |
|--------------|------------------|--------|
| Sparse 2-item mock lists | Rich 5-municipality, 20+ ticket arrays | Dashboard looks production-ready |
| `'123 Main St, Demo City'` | Real SA addresses with ward numbers | Immediately relatable to SA audiences |
| `'TKT-DEMO01'` | `'TKT-20260225-ETH001'` format | Matches real tracking number pattern |
| Generic English-only descriptions | Trilingual descriptions (EN/ZU/AF) | Demonstrates PLAT-04 multilingual capability |
| Empty states when API down | Rich mock fallback data | Demo works offline, no backend needed |

---

## Open Questions

1. **Categories constant values**
   - What we know: `frontend-dashboard/src/constants/categories.ts` exists — mock ticket `category` values must match exactly
   - What's unclear: The exact string values accepted (is it `'potholes'` or `'roads'`?)
   - Recommendation: Planner must read `categories.ts` before authoring `mockTickets.ts` to avoid TypeScript mismatch

2. **Onboarding Wizard mock strategy**
   - What we know: `useOnboarding` requires auth token + tenant_id to function; wizard renders form steps with initial values
   - What's unclear: Whether the wizard is meant to show "already completed" state or "fresh setup" state in mock mode
   - Recommendation: Per CONTEXT.md "Settings shows real config options" — show wizard in partially-completed state (steps 1-3 done, step 4 pending) to demonstrate progress tracking

3. **`useCitizenReports` resolution notes**
   - What we know: `CitizenTicket` interface has no `resolution_notes` field; CONTEXT.md says "past ticket history with statuses, timestamps, and resolution notes"
   - What's unclear: Whether resolution notes should be added to the `CitizenTicket` interface + `TicketCard` component, or if this field already exists under a different name
   - Recommendation: Planner should check `TicketCard.tsx` and `GBVCaseCard.tsx` for any notes/resolution rendering; if missing, add `resolution_notes?: string` to `CitizenTicket` interface

---

## Validation Architecture

### Test Framework
| Property | Value |
|----------|-------|
| Framework | Playwright (E2E) + TypeScript type-checking |
| Config file | `e2e-tests/playwright.config.ts` |
| Quick run command | `cd frontend-dashboard && npm run build:check` (TypeScript type check) |
| Full suite command | `cd e2e-tests && npx playwright test --project=public-chromium` |

### Phase Requirements → Test Map

No formal requirement IDs are assigned to this phase (it is an inserted polish phase). The validation map covers the behavioral goals from CONTEXT.md:

| Goal | Behavior | Test Type | Automated Command | File Exists? |
|------|----------|-----------|-------------------|-------------|
| Every page populated | Dashboard Home shows 4 KPI cards with non-zero values | E2E smoke | `npx playwright test tests/dashboard/` | Check existing |
| SA-authentic data | Ticket list shows SA addresses, SA names | TypeScript compile | `npm run build:check` | N/A — compile verifies types |
| GBV firewall | `mockTickets.ts` has zero entries with `is_sensitive: true` | Unit / code review | `grep -r "is_sensitive: true" frontend-dashboard/src/mocks/mockTickets.ts` | ❌ Wave 0 |
| Trilingual descriptions | Mock tickets contain isiZulu and Afrikaans descriptions | Code review | Manual — review mock file | N/A |
| No TypeScript errors | All mock data matches existing type interfaces | Build | `cd frontend-dashboard && npm run build:check` | ✅ exists |
| Public mock fallback | Transparency dashboard shows 5 municipalities, not 2 | E2E / visual | Manual inspection | N/A |

### Sampling Rate
- **Per task commit:** `cd frontend-dashboard && npm run build:check && cd ../frontend-public && npm run build:check`
- **Per wave merge:** Both TypeScript checks pass; manual visual inspection of each page
- **Phase gate:** Both `build:check` commands pass; no empty states visible on any page in offline mode

### Wave 0 Gaps
- [ ] No existing automated test confirms mock data content — this phase's validation is primarily visual (manual screenshot review) + TypeScript compilation
- [ ] GBV separation check: verify `mockTickets.ts` contains zero `is_sensitive: true` entries: `grep -c "is_sensitive: true" frontend-dashboard/src/mocks/mockTickets.ts` should return 0

*(TypeScript compilation is the primary automated gate — if types are wrong, build fails. Visual correctness requires manual review.)*

---

## Sources

### Primary (HIGH confidence)
- Codebase direct inspection — `frontend-dashboard/src/types/dashboard.ts`, `teams.ts`, `analytics.ts`, `settings.ts` — exact TypeScript interfaces
- Codebase direct inspection — `frontend-public/src/hooks/useCitizenReports.ts` — existing DEMO_TICKETS/DEMO_STATS pattern
- Codebase direct inspection — `frontend-public/src/data/mockDashboardData.ts` — existing mock data pattern
- Codebase direct inspection — `frontend-public/src/hooks/usePublicStats.ts` — established catch/fallback pattern
- Codebase direct inspection — `frontend-dashboard/package.json`, `frontend-public/package.json` — confirmed Recharts ^2.15.4 already installed in both

### Secondary (MEDIUM confidence)
- `.planning/phases/10.4-CONTEXT.md` — locked user decisions on data content, municipality names, language distribution
- Codebase inspection of all page components — confirmed all pages use hooks that call API; none have hardcoded fallback data except the public stats hooks

### Tertiary (LOW confidence)
- Assumed tracking number format `TKT-YYYYMMDD-XXXNNN` based on observed pattern in `useCitizenReports.ts` — actual backend generation code not read

---

## Metadata

**Confidence breakdown:**
- Standard stack: HIGH — confirmed by direct package.json inspection; no new packages needed
- Architecture patterns: HIGH — patterns directly observed in existing codebase files
- Mock data content: HIGH — interfaces read directly from TypeScript type files
- Pitfalls: HIGH — derived from actual code reading (error paths, type constraints, GBV filtering)

**Research date:** 2026-02-27
**Valid until:** 2026-04-27 (stable — no external dependencies to version-drift)
