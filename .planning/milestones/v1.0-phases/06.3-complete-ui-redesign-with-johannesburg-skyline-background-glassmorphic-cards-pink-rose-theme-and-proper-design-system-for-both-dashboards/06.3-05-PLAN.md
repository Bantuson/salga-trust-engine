---
phase: 06.3-complete-ui-redesign
plan: 05
type: execute
wave: 3
depends_on: [01, 02]
files_modified:
  - frontend-dashboard/src/App.css
  - frontend-dashboard/src/pages/LoginPage.tsx
  - frontend-dashboard/src/pages/RegisterPage.tsx
  - frontend-dashboard/src/pages/RequestAccessPage.tsx
autonomous: true

must_haves:
  truths:
    - "Municipal dashboard App.css uses pink/rose theme — identical to public dashboard"
    - "LoginPage shows Johannesburg skyline as background with glassmorphic login card floating over it"
    - "RegisterPage shows similar skyline treatment to login"
    - "RequestAccessPage shows skyline background with glassmorphic form card"
    - "All table, card, scrollbar, chart, and button styles use pink/rose tokens"
  artifacts:
    - path: "frontend-dashboard/src/App.css"
      provides: "Complete pink/rose re-skin for municipal dashboard"
    - path: "frontend-dashboard/src/pages/LoginPage.tsx"
      provides: "Skyline background login page"
      contains: "skyline"
    - path: "frontend-dashboard/src/pages/RequestAccessPage.tsx"
      provides: "Skyline background request access page"
      contains: "skyline"
  key_links:
    - from: "frontend-dashboard/src/App.css"
      to: "shared/design-tokens.css"
      via: "@import"
      pattern: "var\\(--"
---

<objective>
Re-skin the municipal dashboard App.css and add Johannesburg skyline backgrounds to LoginPage, RegisterPage, and RequestAccessPage.

Purpose: Both dashboards must have an identical theme (user locked decision). The municipal dashboard needs its own CSS cleanup plus skyline backgrounds on the three auth-related pages (login, register, request access).

Output: Municipal dashboard visually matches public dashboard. Auth pages show skyline with glassmorphic cards.
</objective>

<execution_context>
@C:/Users/Bantu/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Bantu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.3-complete-ui-redesign-with-johannesburg-skyline-background-glassmorphic-cards-pink-rose-theme-and-proper-design-system-for-both-dashboards/06.3-RESEARCH.md
@frontend-dashboard/src/App.css
@frontend-dashboard/src/pages/LoginPage.tsx
@frontend-dashboard/src/pages/RequestAccessPage.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Re-skin municipal dashboard App.css for pink/rose theme</name>
  <files>frontend-dashboard/src/App.css</files>
  <action>
Update frontend-dashboard/src/App.css to replace all navy-era colors:

**Scrollbar:**
- `::-webkit-scrollbar-track` background — uses `var(--surface-base)` (auto-cascades to pink)
- `::-webkit-scrollbar-thumb:hover` — keep `var(--color-teal)` (works on pink)

**Table styles:**
- `thead` — change `background: var(--color-navy-light)` to `background: rgba(163, 72, 102, 0.4)` (rose tint for table header)
- `tbody tr:nth-child(even)` — uses `var(--surface-elevated)` (auto-cascades)
- `tbody tr:hover` — uses `var(--surface-higher)` (auto-cascades)

**Buttons:**
- `.button-primary` — change `background: var(--color-coral)` to `background: var(--color-accent-gold)` and `color: #333` (dark text on gold)
- `.button-primary:hover` — change to `background: var(--color-accent-gold-hover)` with `box-shadow: var(--glow-gold)`
- `.button-primary:hover:focus-visible` — glow uses gold
- `.button-secondary` — border/hover already use tokens (auto-cascade)

**Status badges:**
- Keep teal for open/resolved, gold for in-progress (was #FBBF24, stays)
- `.status-overdue` — keep coral red for danger indication (this is semantic, not branding)

**Priority indicators:**
- `.priority-high` — keep coral for danger (semantic color)
- `.priority-medium` — keep gold (was #FBBF24)
- `.priority-low` — keep teal

**Input focus states:**
- Keep `var(--color-teal)` for focus (works on pink)
- Error states: change `var(--color-coral)` to `#ff5252` (red on pink) if coral token is gone, or keep using coral as semantic error color

**Card glow classes:**
- `.card-glow-coral` — rename to `.card-glow-gold` with updated `box-shadow: var(--glow-gold)` and `border: 1px solid var(--glow-gold-border)`
- `.card-glow-teal` — update to `var(--glow-teal)` and `var(--glow-teal-border)` (values cascade from tokens)
- `.animated-card:hover .card-glow-coral` — rename to `.card-glow-gold`

**Spinner:**
- `.spinner` — keep `border-top: 4px solid var(--color-teal)` (works on pink)

**Micro-interaction focus:**
- Keep `outline: 2px solid var(--color-teal)` for focus-visible (works on pink)

**Add skyline background class** for auth pages:
```css
/* Skyline background for auth pages (login, register, request-access) */
.auth-skyline-bg {
  position: fixed;
  inset: 0;
  background-image: url('/assets/skyline.png');
  background-size: cover;
  background-position: center bottom;
  z-index: 0;
}

.auth-skyline-overlay {
  position: fixed;
  inset: 0;
  background: rgba(205, 94, 129, 0.3);
  z-index: 0;
}

.auth-skyline-frame {
  position: fixed;
  inset: 0;
  border: 20px solid rgba(205, 94, 129, 0.4);
  pointer-events: none;
  z-index: 1;
}

@media (max-width: 767px) {
  .auth-skyline-frame {
    border-width: 12px;
  }
}
```
  </action>
  <verify>
1. `grep "color-navy\|color-navy-light\|0A0E1A" frontend-dashboard/src/App.css` returns zero matches
2. `grep "auth-skyline" frontend-dashboard/src/App.css` returns matches for the new auth classes
3. `.button-primary` uses gold accent
4. Table header uses rose tint
  </verify>
  <done>Municipal dashboard App.css is fully pink/rose themed with skyline auth classes. Identical visual identity to public dashboard.</done>
</task>

<task type="auto">
  <name>Task 2: Add skyline backgrounds to LoginPage, RegisterPage, and RequestAccessPage</name>
  <files>
    frontend-dashboard/src/pages/LoginPage.tsx
    frontend-dashboard/src/pages/RegisterPage.tsx
    frontend-dashboard/src/pages/RequestAccessPage.tsx
  </files>
  <action>
**Step 1: Copy skyline image to dashboard public assets**
Copy `design-references/background+pink-border.png` to `frontend-dashboard/public/assets/skyline.png`

**Step 2: Update LoginPage.tsx**
- Globe has been removed by Plan 02
- The page currently uses `<AnimatedGradientBg />` as background — **replace** it with the skyline background layers:
```tsx
{/* Skyline background layers */}
<div className="auth-skyline-bg" />
<div className="auth-skyline-overlay" />
<div className="auth-skyline-frame" />
```
- Keep AnimatedGradientBg import REMOVED (skyline replaces gradient on login)
- Keep the glassmorphic login card (uses GlassCard component) — it floats over the skyline
- Keep all auth functionality (email/phone/OTP modes, error handling, etc.) unchanged
- Keep GSAP entrance animations for the login card

**Step 3: Update RegisterPage.tsx**
- Globe has been removed by Plan 02
- Replace `<AnimatedGradientBg />` with skyline layers (same as login):
```tsx
<div className="auth-skyline-bg" />
<div className="auth-skyline-overlay" />
<div className="auth-skyline-frame" />
```
- Keep glassmorphic registration card, all form functionality, GSAP animations

**Step 4: Update RequestAccessPage.tsx**
- This page also uses `<AnimatedGradientBg />` — replace with skyline layers:
```tsx
<div className="auth-skyline-bg" />
<div className="auth-skyline-overlay" />
<div className="auth-skyline-frame" />
```
- Keep the GlassCard form, province dropdown, document upload, all functionality
- Keep GSAP entrance animations

**For all three pages:**
- Ensure the main content container has `position: relative; z-index: 2` so it floats above the skyline
- If AnimatedGradientBg is no longer imported in any of these pages, clean up the import statement
- The `<AnimatedGradientBg />` is still used elsewhere (sidebar pages, dashboard pages) — do NOT remove the component itself, just the usage on these three pages
  </action>
  <verify>
1. Read LoginPage.tsx — confirm `auth-skyline-bg` class is used, no Globe3DSmall reference
2. Read RegisterPage.tsx — confirm skyline background, no Globe3DSmall
3. Read RequestAccessPage.tsx — confirm skyline background
4. `ls frontend-dashboard/public/assets/skyline.png` exists
5. All three pages still have their form functionality intact (search for form-related code)
  </verify>
  <done>LoginPage, RegisterPage, and RequestAccessPage all show Johannesburg skyline with glassmorphic cards floating over it. Pink border frame visible on all three.</done>
</task>

</tasks>

<verification>
After both tasks:
1. `grep -c "color-navy\|0A0E1A\|131829" frontend-dashboard/src/App.css` returns 0
2. All three auth pages use skyline background (search for `auth-skyline-bg`)
3. `ls frontend-dashboard/public/assets/skyline.png` exists
4. Municipal dashboard visual parity with public dashboard (same pink/rose tokens)
</verification>

<success_criteria>
- Municipal dashboard App.css has zero navy references
- Table headers, buttons, cards all use pink/rose/gold theme
- LoginPage shows skyline + glassmorphic login card
- RegisterPage shows skyline + glassmorphic registration card
- RequestAccessPage shows skyline + glassmorphic form card
- Pink border frame visible on all three auth pages
- All form functionality preserved (no auth/form code changed)
</success_criteria>

<output>
After completion, create `.planning/phases/06.3-complete-ui-redesign-with-johannesburg-skyline-background-glassmorphic-cards-pink-rose-theme-and-proper-design-system-for-both-dashboards/06.3-05-SUMMARY.md`
</output>
