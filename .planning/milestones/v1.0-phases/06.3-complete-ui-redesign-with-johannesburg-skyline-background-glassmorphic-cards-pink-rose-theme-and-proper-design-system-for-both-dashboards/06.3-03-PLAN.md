---
phase: 06.3-complete-ui-redesign
plan: 03
type: execute
wave: 2
depends_on: [01]
files_modified:
  - frontend-public/src/components/landing/HeroSection.tsx
  - frontend-public/src/App.css
  - design-references/background+pink-border.png
autonomous: true

must_haves:
  truths:
    - "Landing page hero section displays Johannesburg skyline photograph as background"
    - "Skyline fades to reveal solid #cd5e81 as user scrolls (GSAP ScrollTrigger scrub)"
    - "Pink border frame from reference image appears as a literal UI element over the skyline"
    - "Skyline is responsive and looks acceptable on mobile/tablet/desktop"
  artifacts:
    - path: "frontend-public/src/components/landing/HeroSection.tsx"
      provides: "Skyline hero with GSAP scroll fade and pink border frame"
      contains: "skylineRef"
    - path: "frontend-public/src/App.css"
      provides: "Skyline and pink border CSS classes"
      contains: ".skyline-background"
  key_links:
    - from: "HeroSection.tsx"
      to: "design-references/background+pink-border.png"
      via: "image import"
      pattern: "background.*pink.*border"
---

<objective>
Add the Johannesburg skyline photograph as the hero section background on the public landing page, with GSAP scroll-driven fade-out and the pink border from the reference image as a literal UI element.

Purpose: Per user decision, the skyline replaces the 3D globe as the primary visual on the landing page hero. The scroll behavior fades the skyline to reveal solid #cd5e81 behind it. The pink border from design-references/background+pink-border.png must appear as a UI element, not decoration.

Output: HeroSection.tsx with skyline background, GSAP fade, pink border overlay. Updated App.css with skyline and border styles.
</objective>

<execution_context>
@C:/Users/Bantu/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Bantu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.3-complete-ui-redesign-with-johannesburg-skyline-background-glassmorphic-cards-pink-rose-theme-and-proper-design-system-for-both-dashboards/06.3-RESEARCH.md
@frontend-public/src/components/landing/HeroSection.tsx
@frontend-public/src/App.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy skyline image to public assets and implement hero with GSAP fade</name>
  <files>frontend-public/src/components/landing/HeroSection.tsx</files>
  <action>
**Step 1: Copy skyline image to frontend-public assets**
Copy `design-references/background+pink-border.png` to `frontend-public/public/assets/skyline.png` (use the public/ directory so Vite serves it as a static asset without bundling — large images should not be imported as modules).

**Step 2: Update HeroSection.tsx**

The globe has already been removed by Plan 02 (or will be — handle both states). Rewrite the HeroSection to use the skyline:

Structure:
```
<section ref={sectionRef} className="hero-section">
  {/* Layer 1: Solid pink background (revealed as skyline fades) */}
  {/* This is handled by .hero-section CSS background */}

  {/* Layer 2: Skyline photograph that fades on scroll */}
  <div ref={skylineRef} className="skyline-background" />

  {/* Layer 3: Pink border frame overlay */}
  <div className="skyline-frame" />

  {/* Layer 4: Hero content */}
  <div className="hero-content">
    <h1 ref={headlineRef} className="hero-headline" style={{ textShadow: '0 2px 20px rgba(0,0,0,0.5)' }}>
      Transparent Municipal Services.<br />
      <span className="text-coral">For Every Citizen.</span>
    </h1>
    <p ref={subtitleRef} className="hero-subtitle">
      Track service delivery, hold municipalities accountable...
    </p>
    <Link to="/dashboard">
      <Button variant="primary" size="lg" className="hero-cta">
        View Municipal Performance
      </Button>
    </Link>
  </div>
  <div className="hero-gradient-overlay" />
</section>
```

**GSAP Animation:**
- Keep existing headline/subtitle entrance animations
- Replace the globe parallax with skyline fade-out:
```tsx
// Fade skyline to reveal solid pink behind it
if (skylineRef.current) {
  gsap.to(skylineRef.current, {
    opacity: 0,
    ease: 'none',
    scrollTrigger: {
      trigger: sectionRef.current,
      start: 'top top',
      end: 'bottom top',
      scrub: true,
    },
  });
}
```
- For reduced motion: set skyline to full opacity (no animation), skip the fade

**Imports needed:**
- Keep: `gsap`, `ScrollTrigger`, `useGSAP`, `useReducedMotion`, `Button`, `Link`
- Remove (if not already removed by plan 02): Globe3D, GlobeLoadingSkeleton, Suspense
- Add: `useRef` for skylineRef

**Increase text shadow on hero text** to `0 2px 20px rgba(0,0,0,0.5)` for readability over the skyline photograph.
  </action>
  <verify>
1. Read HeroSection.tsx and confirm: skylineRef exists, GSAP ScrollTrigger creates fade-out, `.skyline-background` class is used, `.skyline-frame` element is present
2. Verify `ls frontend-public/public/assets/skyline.png` exists
3. No Globe3D or GlobeLoadingSkeleton references remain
  </verify>
  <done>HeroSection renders Johannesburg skyline that fades to pink on scroll, with pink border frame overlay.</done>
</task>

<task type="auto">
  <name>Task 2: Add skyline and pink border CSS to App.css</name>
  <files>frontend-public/src/App.css</files>
  <action>
**Update the hero-section styles in frontend-public/src/App.css:**

Replace the existing `.hero-section` and `.hero-globe-container` rules with:

```css
.hero-section {
  position: relative;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-base); /* Solid #cd5e81 revealed as skyline fades */
}

.skyline-background {
  position: absolute;
  inset: 0;
  background-image: url('/assets/skyline.png');
  background-size: cover;
  background-position: center bottom;
  z-index: 0;
}

.skyline-frame {
  position: absolute;
  inset: 0;
  border: 20px solid rgba(205, 94, 129, 0.4);
  pointer-events: none;
  z-index: 2;
}
```

**Remove the `.hero-globe-container` CSS rule entirely** (lines ~46-51 in current App.css).

**Update hero-content z-index** to be above the skyline layers:
```css
.hero-content {
  position: relative;
  z-index: 3; /* Above skyline-frame (z-index: 2) */
  ...existing styles...
}
```

**Update `.hero-gradient-overlay`** to use pink instead of navy:
```css
.hero-gradient-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 150px;
  background: linear-gradient(to top, var(--surface-base), transparent);
  z-index: 3;
  pointer-events: none;
}
```

**Responsive skyline adjustments:**
```css
/* Mobile: skyline positioned lower for better text readability */
@media (max-width: 767px) {
  .skyline-background {
    background-position: center 60%;
  }

  .skyline-frame {
    border-width: 12px; /* Thinner frame on mobile */
  }
}
```

Remove the mobile rule that set `.hero-globe-container` opacity to 0.3 (around line 590) since the globe is gone.
  </action>
  <verify>
1. Read frontend-public/src/App.css and confirm: `.skyline-background` rule exists with `background-image: url('/assets/skyline.png')`
2. `.skyline-frame` rule exists with `border: 20px solid rgba(205, 94, 129, 0.4)`
3. No `.hero-globe-container` rule remains
4. `.hero-gradient-overlay` uses `var(--surface-base)` not hardcoded navy
  </verify>
  <done>App.css has skyline background, pink border frame, and responsive adjustments. Globe container styles removed.</done>
</task>

</tasks>

<verification>
After both tasks:
1. HeroSection.tsx shows skyline image with GSAP scroll-fade to pink
2. Pink border frame is visible as a literal UI element
3. No globe references in HeroSection
4. App.css has skyline, frame, and responsive styles
5. Hero text has sufficient contrast over skyline (text-shadow applied)
</verification>

<success_criteria>
- Skyline photograph visible on landing page hero
- Skyline fades to solid #cd5e81 as user scrolls via GSAP ScrollTrigger
- Pink border from reference image implemented as separate overlay div
- Responsive behavior: thinner border on mobile, adjusted image positioning
- Hero text readable over skyline with text-shadow
</success_criteria>

<output>
After completion, create `.planning/phases/06.3-complete-ui-redesign-with-johannesburg-skyline-background-glassmorphic-cards-pink-rose-theme-and-proper-design-system-for-both-dashboards/06.3-03-SUMMARY.md`
</output>
