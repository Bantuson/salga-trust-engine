---
status: issues-found
phase: 06.6-playwright-e2e
source: 06.6-07-SUMMARY.md, 06.6-08-SUMMARY.md (gap closure verification rerun)
started: 2026-02-16T12:30:00Z
updated: 2026-02-16T13:45:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Landing Page - Hero CTA Solid Gold Button
expected: Hero "Get Started" / "View Dashboard" CTA button on landing page has solid gold background with dark text, clearly visible over skyline
result: pass
reported: "Hero CTA 'View Municipal Performance' button has solid gold background (#D4A843) with dark text (#333). Clearly visible over skyline background."

### 2. Landing Page - Feature Cards Visible (Desktop + Mobile)
expected: "How It Works" feature cards are visible with readable text on desktop. Cards should not be hidden by GSAP.
result: pass
reported: "On desktop (1280x800), all 3 feature cards (Report, Track, Transparency) are visible with readable text after scroll trigger fires. Glassmorphic styling applied correctly."

### 3. Landing Page - DashboardCTA Button Visible
expected: Bottom "View Dashboard" CTA uses preview-cta-button style with gold background, clearly visible
result: pass
reported: "Bottom 'View Dashboard' button has solid gold background, clearly visible in bottom CTA section."

### 4. Citizen Register - Create Account Button Visible
expected: Create Account button is visible (not opacity:0), register card does not overlap header (has paddingTop ~100px)
result: issue
reported: "Button text visible (opacity:1, GSAP clearProps fix worked). However, backgroundColor is rgba(0,0,0,0) - completely transparent. No gold/coral background applied. PaddingTop fix works correctly (card no longer overlaps header)."
severity: major

### 5. Citizen Login - Sign In Button Visible
expected: Sign In button visible with GSAP clearProps safety, Citizen Portal heading visible
result: issue
reported: "'Citizen Portal' heading NOT visible in screenshot despite existing in DOM at opacity:1. 'Sign In' button has no background color or border - appears as plain white text, not a button."
severity: major

### 6. Municipal Login - Sign In Button Visible
expected: Municipal login Sign In button visible, product info visible, form headings visible
result: issue
reported: "Product info section visible and readable. But 'Sign In' button has no background/border - transparent background, looks like text. Same systemic button styling issue as citizen login."
severity: major

### 7. Request Access - Single Footer Link
expected: Request Access page has single "Already have an account? Sign In" link (not two redundant ones)
result: pass
reported: "Single 'Already have an account? Sign In' link confirmed. Redundant link removed successfully."

### 8. Form Autocomplete Attributes
expected: Auth form inputs have autocomplete attributes (email, password, tel, name)
result: pass
reported: "Confirmed autocomplete='email' on email inputs and autocomplete='current-password' on password inputs across login and request access forms."

### 9. Glass Readability - Design Tokens
expected: Glass cards have increased opacity (0.35 white-frost) and blur (16px subtle, 28px medium) for text readability
result: pass
reported: "Design tokens confirmed: --glass-white-frost: rgba(255,255,255,0.35), --glass-blur-subtle: 16px, --glass-blur-medium: 28px. Applied correctly across glass cards."

### 10. Municipal Dashboard - Card Contrast
expected: Dashboard stat cards have visible white borders and stronger background, distinct from pink background
result: pass
reported: "Dashboard cards have visible white borders and are clearly distinct from pink background. Admin role badge and avatar visible. All 5 sidebar nav items present."

### 11. Ticket Page - Retry Logic (No Backend)
expected: When backend unreachable, TicketListPage retries max 3 times with backoff, then shows error UI with Retry button (no infinite loop)
result: pass
reported: "Retry logic works - stops retrying and shows 'Network Error' banner with 'Retry' button. No infinite loop. Minor note: logs show 'attempt 4/3' (off-by-one in guard condition) but functionally correct - blocker resolved."

### 12. Report Issue - Submit Button Visible
expected: Submit Report button has explicit coral background with white text, heading uses solid text (not gradient)
result: issue
reported: "Heading 'Report an Issue' uses solid white text (good). But Submit Report button still has backgroundColor: rgba(0,0,0,0) - no coral background applied. Same systemic button styling issue."
severity: major

### 13. Transparency Dashboard - Text Contrast
expected: Dashboard heading uses solid white text with text-shadow (not gradient), metric labels readable
result: pass
reported: "Heading 'Municipal Transparency Dashboard' uses solid white text (rgb(249,247,248)), no gradient. Stats cards visible showing '2' Total Municipalities. Subtitle and labels readable. Privacy notice visible."

### 14. Stale Auth Token - No Console Errors
expected: Page loads without AuthApiError console errors (stale tokens caught and cleared gracefully)
result: pass
reported: "Zero console errors on page load. Stale auth token handling working correctly - no AuthApiError messages."

### 15. Citizen Login Flow - citizen-new Profile
expected: citizen-new@test-jozi-001.test can log in with Test123!@# and reach authenticated state
result: pass
reported: "Citizen logged in successfully. Navbar shows 'N New Citizen'. Profile page shows 'My Reports' with 'Report New Issue' button. Authenticated state confirmed."

### 16. Municipal Login Flow - admin Profile
expected: admin@test-jozi-001.test can log in and see municipal dashboard sidebar
result: pass
reported: "Admin logged in at admin@test-jozi-001.test with 'Admin' role badge. Sidebar shows Dashboard, Tickets, Teams, Analytics, Settings. Sign out button present. Realtime connection active."

### 17. Mobile Feature Cards Visibility
expected: Feature cards visible on mobile viewport (375px width), not hidden by GSAP autoAlpha
result: issue
reported: "BLOCKER: Feature cards are completely INVISIBLE on mobile (375px). All 3 cards have opacity:0 and visibility:hidden. GSAP ScrollTrigger does not fire on mobile viewport. CSS fallback animation (@keyframes feature-card-fallback) is not activating. Large blank space between 'How It Works' heading and bottom CTA."
severity: blocker

### 18. Report Issue - Citizen Profile Journey
expected: Logged-in citizen can navigate to Report Issue page, see form with readable heading, description textarea, category selector
result: pass
reported: "Report Issue page renders correctly for logged-in citizen. 'Report an Issue' heading in solid white, category dropdown, description textarea with character counter, evidence photo upload, 'Use My Location' button with teal border all visible and functional."

### 19. GBV Privacy - Public Dashboard
expected: Transparency dashboard shows aggregated stats, no GBV-identifying information visible
result: pass
reported: "GBV privacy fully enforced. 'Sensitive Reports (System-wide)' shows count only with 'GBV reports excluded from location data'. Privacy Notice states GBV exclusion. k-anonymity threshold >= 3 displayed. Heatmap shows aggregated density only. Footer confirms exclusion. No individual GBV-identifying information visible anywhere."

### 20. GSAP clearProps Verification
expected: After GSAP animations complete on landing page, elements have no residual inline opacity:0 styles
result: pass
reported: "On desktop, after scrolling to trigger GSAP ScrollTrigger animations, all elements reach opacity:1 with visibility:visible. Problem statement paragraphs, feature cards, and dashboard CTA section all animate correctly. clearProps working as expected on desktop scroll."

## Summary

total: 20
passed: 14
issues: 6
pending: 0
skipped: 0

## Gaps

- truth: "All primary CTA buttons should have visible background color (gold/coral) not transparent"
  status: failed
  reason: "Create Account, Sign In (both dashboards), and Submit Report buttons all have backgroundColor: rgba(0,0,0,0). The GSAP clearProps fix ensured opacity:1 (buttons not invisible), but explicit background color styling was never applied or is being overridden."
  severity: blocker
  test: 4, 5, 6, 12
  root_cause: "The gap closure plan specified inline styles with backgroundColor, but the shared Button component or CSS specificity is overriding them. Only the Request Access 'Submit Request' button has proper gold styling, suggesting a different code path."
  artifacts:
    - path: "frontend-public/src/pages/RegisterPage.tsx"
      issue: "Create Account button - no background color"
    - path: "frontend-public/src/pages/LoginPage.tsx"
      issue: "Sign In button - no background color, Citizen Portal heading may not be visible"
    - path: "frontend-dashboard/src/pages/LoginPage.tsx"
      issue: "Municipal Sign In button - no background color"
    - path: "frontend-public/src/pages/ReportIssuePage.tsx"
      issue: "Submit Report button - no coral background"
  missing:
    - "Investigate why inline backgroundColor styles are not applying (CSS specificity issue or shared Button component override)"
    - "Apply background color via CSS class rather than inline style if Button component strips inline styles"
    - "Ensure gold (#D4A843) background for auth CTA buttons and coral for report submit"
    - "Add hover states with glow effect"

- truth: "Feature cards should be visible on mobile viewport (375px)"
  status: failed
  reason: "All 3 feature cards have opacity:0 and visibility:hidden on mobile. GSAP ScrollTrigger doesn't fire and CSS fallback animation doesn't activate."
  severity: blocker
  test: 17
  root_cause: "GSAP ScrollTrigger may not trigger on mobile due to viewport height or scroll container differences. The CSS fallback @keyframes feature-card-fallback animation either has wrong selector, wrong delay, or is being overridden by GSAP inline styles."
  artifacts:
    - path: "frontend-public/src/components/LandingPage.tsx"
      issue: "GSAP ScrollTrigger not firing on mobile viewport"
    - path: "frontend-public/src/App.css"
      issue: "CSS fallback animation not activating for feature cards on mobile"
  missing:
    - "Debug why GSAP ScrollTrigger fails on mobile (375px viewport)"
    - "Ensure CSS fallback @keyframes runs after GSAP timeout (e.g., 3s delay)"
    - "Consider adding matchMedia check: if mobile, skip GSAP and show cards immediately"
    - "Add !important to fallback animation opacity/visibility if GSAP inline styles override"

- truth: "Citizen Portal heading should be visible on login page"
  status: failed
  reason: "Heading exists in DOM with opacity:1 from clearProps but is not visible in screenshot. May be positioned off-screen or covered by another element."
  severity: major
  test: 5
  root_cause: "Heading may have transform: translateY() keeping it off-screen, or z-index issue with overlapping elements."
  artifacts:
    - path: "frontend-public/src/pages/LoginPage.tsx"
      issue: "Citizen Portal heading not visible despite opacity:1"
  missing:
    - "Debug heading position (check transform, top offset, z-index)"
    - "Ensure heading is in normal document flow without GSAP transform residue"
