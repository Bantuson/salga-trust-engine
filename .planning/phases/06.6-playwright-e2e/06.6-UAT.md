---
status: resolved
phase: 06.6-playwright-e2e
source: Manual Playwright MCP testing across all dashboards, profiles, and pages
started: 2026-02-16T09:30:00Z
updated: 2026-02-16T12:00:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Public Landing Page - Visual Audit
expected: Landing page renders with readable hero, feature cards, CTA, footer. All text meets WCAG AA contrast. No overlapping elements.
result: issue
reported: "Feature cards in 'How It Works' section have very low contrast text on translucent cards over busy skyline background. Bottom CTA section ('Ready to see how your municipality performs?') has light text on pink glassmorphic card - barely readable. 'View Dashboard' button at bottom is nearly invisible (gold text on transparent card). Problem statement body text competes with skyline background."
severity: major

### 2. Public Landing Page - Mobile View
expected: Mobile layout is properly responsive, all sections visible, hamburger menu works.
result: issue
reported: "Feature cards in 'How It Works' section are completely INVISIBLE on mobile - card content not visible at all, just the heading floating on pink background. Bottom CTA 'View Dashboard' button is barely visible on mobile."
severity: blocker

### 3. Register Page - Create Account Button Invisible
expected: Register form displays with visible heading, all fields, and a prominent 'Create Account' CTA button.
result: issue
reported: "CRITICAL: 'Create Account' button has opacity:0 (completely invisible). GSAP animation sets initial opacity to 0 and never triggers the animation on register page. Also 'Create Your Account' heading has same opacity:0 issue. Users fill out all 6 fields but cannot find the submit button."
severity: blocker

### 4. Register Page - Card Overlaps Header
expected: Register card should be contained below the header/navbar with proper spacing.
result: issue
reported: "Register card extends to the very top of the page, overlapping/covering the header navbar. On desktop the card top is behind the nav links. The card is too tall (6 fields + helpers) and doesn't fit viewport without scrolling."
severity: major

### 5. Login Page - Sign In Button Has No Visual Treatment
expected: Sign In button should look like a button (background, border, hover state) to indicate it's interactive.
result: issue
reported: "Sign In button has backgroundColor: transparent, border: none. It appears as plain white bold text, not as a button. Users would struggle to identify this as the submit CTA. Same issue on both public and municipal dashboards."
severity: major

### 6. Login Page - Citizen Portal Heading Invisible
expected: 'Citizen Portal' heading should be visible at top of login card.
result: issue
reported: "The 'Citizen Portal' h1 heading exists in DOM but is likely affected by same GSAP opacity:0 animation issue as register page. Not visible in viewport."
severity: major

### 7. Auth Credentials - Test Profiles
expected: All 11 test profiles should be able to authenticate.
result: pass
reported: "After running global-setup to create users in Supabase, all tested profiles authenticate successfully. citizen-new and admin profiles confirmed working. Users are properly redirected post-login."

### 8. Report Issue Page - Submit Button Styling
expected: Submit Report button should be a prominent, styled CTA button.
result: issue
reported: "'Submit Report' button has no background color, no border - just white text on transparent background. Looks like plain text, not a button. Inconsistent with 'Use My Location' button which has proper teal border styling on same page."
severity: major

### 9. Report Issue Page - Form Layout
expected: Report form should have clear hierarchy, readable labels, proper spacing.
result: issue
reported: "The 'Report an Issue' heading uses low-contrast gradient/coral color on glassmorphic card. Description textarea placeholder text is barely visible. Character counter '0 / 2000' is low contrast."
severity: minor

### 10. About Page
expected: About page renders with all sections, FAQ accordion, 'For Citizens'/'For Municipalities' lists.
result: pass
reported: "About page is the best-designed page on the public dashboard. Good hierarchy, readable glassmorphic cards, FAQ accordion works, check marks visible in teal."

### 11. Transparency Dashboard
expected: Dashboard shows stats cards, municipality filter, charts area, heatmap, privacy notice.
result: issue
reported: "'Municipal Transparency Dashboard' heading uses gradient text with poor readability on skyline background. 'No response time data available' and 'No resolution rate data available' messages have very low contrast (light text on pink glass cards). Stats cards show correct data (2 municipalities) but label text is small and light."
severity: minor

### 12. Municipal Dashboard Login Page
expected: Two-column layout with product info and login form.
result: issue
reported: "Layout is good with product info on left and login on right. But 'Sign In' button has same no-background/no-border issue as public dashboard. 'Sign in with Phone OTP' looks like a link, not a button."
severity: major

### 13. Municipal Dashboard - Admin Access
expected: Admin can log in and see full dashboard with sidebar navigation.
result: pass
reported: "Admin login successful. Sidebar shows all 5 navigation items (Dashboard, Tickets, Teams, Analytics, Settings). User avatar and role badge visible at bottom. Supabase Realtime connects (shows 'Live' indicator)."

### 14. Municipal Dashboard - Skeleton/Empty States
expected: Dashboard cards should show clear loading or empty states with good contrast.
result: issue
reported: "'No data available' text in Ticket Volume, SLA Compliance, Team Workload cards has very low contrast - light pink text on slightly lighter pink cards. Pink-on-pink cards barely distinguishable from background. Stat cards at top show as empty skeleton placeholders."
severity: minor

### 15. Municipal Tickets Page - Infinite Retry Loop
expected: Tickets page should handle network errors gracefully with limited retries.
result: issue
reported: "When backend (FastAPI port 8000) is unreachable, the Tickets page enters an INFINITE retry loop - produced 124+ console errors in seconds. No retry limit, no exponential backoff. 'Network Error' banner has barely visible light pink text. Would cause performance degradation and excessive network requests."
severity: blocker

### 16. Municipal Request Access Page
expected: Form should have clear heading, all fields, prominent submit button, proper card sizing.
result: issue
reported: "The 'Submit Request' button IS properly styled (yellow/gold background with dark text) - the ONLY properly styled CTA button across all auth pages. This creates severe inconsistency with login/register pages which have invisible/unstyled buttons. Also has two redundant 'Sign In' links at bottom ('Already have an invite?' and 'Already have an account?')."
severity: minor

### 17. Cross-Platform Button Styling Inconsistency
expected: All CTA buttons should have consistent visual treatment across the platform.
result: issue
reported: "Severe button styling inconsistency: Register 'Create Account' = opacity:0 (INVISIBLE). Login 'Sign In' = transparent bg, no border (looks like text). Report 'Submit Report' = transparent bg, no border. Request Access 'Submit Request' = yellow bg with dark text (CORRECT). Report 'Use My Location' = teal border (OK). Export CSV/Excel = green bg (OK). This mix of styled, unstyled, and invisible buttons is unacceptable."
severity: blocker

### 18. Console Errors - Supabase Auth Token
expected: No auth-related errors on initial page load.
result: issue
reported: "AuthApiError: Invalid Refresh Token errors on every page load of public dashboard. Stale refresh tokens in localStorage cause errors. Should clear invalid tokens gracefully instead of logging errors."
severity: minor

### 19. Glassmorphism Readability - System-wide
expected: Glassmorphic cards should provide sufficient contrast for text readability over busy backgrounds.
result: issue
reported: "Glassmorphic cards across the platform have insufficient opacity/blur to make text readable over the Johannesburg skyline background. The white frost effect is too transparent (0.05-0.15 opacity). Text frequently competes with the busy urban background photo. Needs either: stronger blur (30-40px vs current 10-20px), higher card opacity, or dark text shadows."
severity: major

### 20. Form Input Autocomplete Warnings
expected: Form inputs should have proper autocomplete attributes per browser accessibility standards.
result: issue
reported: "Chrome DevTools shows '[DOM] Input elements should have autocomplete attributes' warnings on login, register, and request-access pages. Missing autocomplete='email', autocomplete='new-password', etc."
severity: cosmetic

## Summary

total: 20
passed: 3
issues: 17
pending: 0
skipped: 0

## Gaps

- truth: "Feature cards in 'How It Works' section should be clearly visible with readable text"
  status: resolved
  reason: "User reported: Feature cards have very low contrast on desktop; completely INVISIBLE on mobile"
  severity: blocker
  test: 2
  root_cause: "Glassmorphic card opacity too low (0.05-0.15), backdrop-filter blur insufficient against busy skyline background. Mobile may have additional CSS issue hiding card content entirely."
  artifacts:
    - path: "frontend-public/src/App.css"
      issue: "Glass card opacity and blur values too low"
    - path: "frontend-public/src/components/LandingPage.tsx"
      issue: "Feature card section styling"
  missing:
    - "Increase glass card opacity to 0.3-0.5 for content cards"
    - "Increase backdrop-filter blur to 30-40px"
    - "Add text-shadow for text over photo backgrounds"
    - "Debug mobile-specific card visibility issue"

- truth: "'Create Account' button should be visible and clickable after filling registration form"
  status: resolved
  reason: "User reported: CRITICAL - button has opacity:0, completely invisible. GSAP animation never fires."
  severity: blocker
  test: 3
  root_cause: "GSAP ScrollTrigger or page-load animation sets initial opacity:0 on the button element but the animation trigger condition is never met on the /register route. The animation was designed for the landing page scroll context and incorrectly applied to auth pages."
  artifacts:
    - path: "frontend-public/src/pages/RegisterPage.tsx"
      issue: "Button element has GSAP-controlled opacity:0 that never animates to 1"
    - path: "frontend-public/src/App.css"
      issue: "Global animation styles may set initial opacity"
  missing:
    - "Remove GSAP scroll animations from auth pages (login, register)"
    - "Ensure all form buttons have opacity:1 by default"
    - "Apply gold/yellow CTA styling to Create Account button"

- truth: "Sign In and Submit Report buttons should look like buttons with background color and border"
  status: resolved
  reason: "User reported: buttons have transparent background, no border - look like plain text"
  severity: blocker
  test: 17
  root_cause: "Button elements use default/reset styles without explicit CTA styling. Only the Request Access 'Submit Request' button has proper gold/yellow styling. Auth page buttons and report page button lack background-color, border, and hover state."
  artifacts:
    - path: "frontend-public/src/pages/LoginPage.tsx"
      issue: "Sign In button missing CTA styles"
    - path: "frontend-public/src/pages/RegisterPage.tsx"
      issue: "Create Account button missing CTA styles + opacity:0"
    - path: "frontend-public/src/pages/ReportIssuePage.tsx"
      issue: "Submit Report button missing CTA styles"
    - path: "frontend-dashboard/src/pages/LoginPage.tsx"
      issue: "Municipal Sign In button missing CTA styles"
  missing:
    - "Apply consistent gold/yellow CTA button styling to all primary action buttons"
    - "Add hover/active states with glow effect"
    - "Ensure button text meets WCAG AA contrast on gold background"

- truth: "Tickets page should handle network errors gracefully with retry limits"
  status: resolved
  reason: "User reported: Infinite retry loop producing 124+ errors in seconds when backend unreachable"
  severity: blocker
  test: 15
  root_cause: "TicketListPage.tsx fetch logic has no retry limit or exponential backoff. useEffect dependency causes re-render loop on error state, triggering infinite API calls."
  artifacts:
    - path: "frontend-dashboard/src/pages/TicketListPage.tsx"
      issue: "No retry limit on fetch failure, infinite re-render loop"
  missing:
    - "Add max retry count (3-5 retries)"
    - "Add exponential backoff between retries"
    - "Show clear error state after max retries with manual retry button"

- truth: "Register card should not overlap the header/navbar"
  status: resolved
  reason: "User reported: card extends to top of page, covers navbar. Card too tall for viewport."
  severity: major
  test: 4
  root_cause: "Register page card has no top margin/padding relative to the fixed header. Card content (6 fields + helpers) exceeds viewport height. Missing scroll containment."
  artifacts:
    - path: "frontend-public/src/pages/RegisterPage.tsx"
      issue: "Card container has no top offset for fixed header"
  missing:
    - "Add padding-top equal to header height (64-80px)"
    - "Consider reducing form to essential fields only (name, email, password)"
    - "Move optional fields (phone, municipality) to post-registration profile page"

- truth: "Glassmorphic cards should provide sufficient text contrast over photo backgrounds"
  status: resolved
  reason: "User reported: text competes with busy skyline background across multiple pages"
  severity: major
  test: 19
  root_cause: "Glass card backdrop-filter blur is 10-20px which is insufficient for a detailed urban photograph background. Card background opacity at 0.05-0.15 allows too much background detail through."
  artifacts:
    - path: "shared/lib/GlassCard.tsx"
      issue: "Default/elevated variant opacity too low"
    - path: "frontend-public/src/App.css"
      issue: "Glass card CSS custom properties"
  missing:
    - "Increase card background opacity from 0.15 to 0.35-0.5"
    - "Increase backdrop-filter blur from 10-20px to 25-40px"
    - "Add subtle text-shadow (0 1px 3px rgba(0,0,0,0.3)) to all text over photo backgrounds"
    - "Consider darker glass tint for cards with body text"

- truth: "'Citizen Portal' heading on login page should be visible"
  status: resolved
  reason: "User reported: heading not visible, likely GSAP opacity:0 animation issue"
  severity: major
  test: 6
  root_cause: "Same GSAP animation issue as register page - heading starts at opacity:0 and animation never triggers on auth pages."
  artifacts:
    - path: "frontend-public/src/pages/LoginPage.tsx"
      issue: "Heading opacity:0 from GSAP"
  missing:
    - "Remove GSAP animations from auth page headings"
    - "Set heading opacity:1 explicitly"

- truth: "Municipal dashboard cards should have distinct visual separation from background"
  status: resolved
  reason: "User reported: pink-on-pink cards barely distinguishable from background, 'No data available' text very low contrast"
  severity: minor
  test: 14
  root_cause: "Municipal dashboard uses same pink glass card system but the cards and background are too similar in color/opacity, creating a monochromatic low-contrast layout."
  artifacts:
    - path: "frontend-dashboard/src/pages/DashboardPage.tsx"
      issue: "Card styling lacks sufficient contrast from background"
    - path: "frontend-dashboard/src/App.css"
      issue: "Background and card color too similar"
  missing:
    - "Add border to dashboard cards (1px solid rgba(255,255,255,0.2))"
    - "Increase card opacity"
    - "Use white or high-contrast text for data labels"
