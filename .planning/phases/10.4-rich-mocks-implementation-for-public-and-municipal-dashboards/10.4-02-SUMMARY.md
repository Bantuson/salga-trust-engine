---
phase: 10.4-rich-mocks-implementation-for-public-and-municipal-dashboards
plan: "02"
subsystem: frontend-public
tags: [mock-data, transparency-dashboard, citizen-portal, sa-authentic, trns-05]
dependency_graph:
  requires: []
  provides:
    - mockDashboardData.ts enriched with 5 SA metros and realistic performance trends
    - mockCitizenTickets.ts new centralized citizen demo ticket data
    - useCitizenReports.ts wired to centralized mock source
  affects:
    - frontend-public/src/hooks/usePublicStats.ts (consumes mockDashboardData.ts fallbacks)
    - TransparencyDashboardPage (displays enriched municipality data)
    - CitizenPortalPage (shows 5 SA-authentic demo tickets in demo mode)
tech_stack:
  added: []
  patterns:
    - Centralized mock data files in frontend-public/src/data/
    - Relative timestamp helper pattern for demo data freshness
key_files:
  created:
    - frontend-public/src/data/mockCitizenTickets.ts
  modified:
    - frontend-public/src/data/mockDashboardData.ts
    - frontend-public/src/hooks/useCitizenReports.ts
decisions:
  - "Keep category key as 'roads' (not 'potholes') to match CATEGORY_CONFIG across app"
  - "total_sensitive_tickets set to 0 in mockSystemSummary — TRNS-05 prohibits GBV counts on public dashboard"
  - "GBV demo ticket (TKT-20260225-SAP001) is correct in citizen portal — SEC-05 allows citizens to see own cases"
  - "Omit description field from CitizenTicket entries — field not in the CitizenTicket interface"
metrics:
  duration_minutes: 5
  completed_date: "2026-02-27"
  tasks_completed: 2
  files_modified: 3
---

# Phase 10.4 Plan 02: Enrich Public Dashboard and Citizen Portal Mock Data Summary

One-liner: Replaced 2-municipality sparse mock data with 5 real SA metros (eThekwini, Mangaung, Buffalo City, Nelson Mandela Bay, Johannesburg) with improvement-arc resolution trends and centralized SA-authentic citizen ticket demo data.

## Tasks Completed

| Task | Name | Commit | Files |
|------|------|--------|-------|
| 1 | Enrich mockDashboardData.ts with 5 SA municipalities | cc8def5 | frontend-public/src/data/mockDashboardData.ts |
| 2 | Create mockCitizenTickets.ts and wire into Citizen Portal demo mode | 99cf787 | frontend-public/src/data/mockCitizenTickets.ts, frontend-public/src/hooks/useCitizenReports.ts |

## What Was Built

### Task 1: mockDashboardData.ts Enrichment

Rewrote `mockDashboardData.ts` from a sparse 2-municipality placeholder to a rich 5-municipality dataset:

- **mockSystemSummary**: total_municipalities=5, total_tickets=3247, total_sensitive_tickets=0 (TRNS-05)
- **mockMunicipalities**: 5 real SA metros — eThekwini (KZN), Mangaung (Free State), Buffalo City (Eastern Cape), Nelson Mandela Bay (Eastern Cape), City of Johannesburg (Gauteng)
- **mockResponseTimes**: Realistic hours per metro (18.6h Mangaung to 36.2h Johannesburg reflecting real-world metro scale)
- **mockResolutionRates**: 6-month improvement arc for all 5 municipalities (2025-09 to 2026-02), each climbing 14-16% over the period
- **mockCategoryBreakdown**: 6 categories using correct keys (water:612, electricity:534, roads:487, other:412, waste:389, sanitation:298)
- **mockHeatmapData**: 44 points across all 5 metros with authentic GPS coordinates (uMlazi, KwaMashu, Botshabelo, Mdantsane, KwaZakhele, Motherwell, Soweto, Alexandra, etc.)

### Task 2: Centralized Citizen Demo Tickets

Created `mockCitizenTickets.ts` with 5 SA-authentic tickets demonstrating full lifecycle:

1. **Resolved** — Water outage in KwaMashu, eThekwini (assigned: Bongani Nkosi)
2. **In Progress** — Pothole on Mandela Dr & Sisulu Rd, eThekwini (assigned: Johan du Plessis)
3. **Open** — Electricity outage at 22 Umgeni Rd, Durban North (unassigned)
4. **Closed** — Illegal dumping near Amaoti, Inanda Highway (assigned: Sipho Ndlovu)
5. **Sensitive/GBV** — Citizen's own case handled by Capt. N. Mthembu at Inanda SAPS (031-519-1300)

Removed 42 lines of inline placeholder data (generic "Demo City" names/addresses) from `useCitizenReports.ts` and wired the import to the centralized file.

## Deviations from Plan

None — plan executed exactly as written.

The plan noted "Check LandingPage.tsx, AboutPage.tsx, ProfilePage.tsx for inline placeholder data" — all three were inspected and confirmed to contain no inline mock data. LandingPage.tsx delegates entirely to subcomponents, AboutPage.tsx is static text, ProfilePage.tsx has a real `PILOT_MUNICIPALITIES` list that was already SA-authentic.

## Security Compliance

- **TRNS-05**: `total_sensitive_tickets: 0` in mockSystemSummary. Zero GBV category references in mockDashboardData.ts (verified: `grep -c "'gbv'" ... = 0`).
- **SEC-05**: GBV demo ticket in DEMO_TICKETS is correct per SEC-05 — citizens CAN view their own sensitive cases. The firewall only prevents public and other-user access.

## Self-Check

### Created files exist:
- `frontend-public/src/data/mockCitizenTickets.ts` — FOUND (created in this plan)

### Modified files exist:
- `frontend-public/src/data/mockDashboardData.ts` — FOUND (5 municipalities confirmed)
- `frontend-public/src/hooks/useCitizenReports.ts` — FOUND (import wired confirmed)

### Commits exist:
- `cc8def5` — FOUND: feat(10.4-02): enrich mockDashboardData.ts with 5 SA municipalities
- `99cf787` — FOUND: feat(10.4-02): create mockCitizenTickets.ts with SA-authentic demo data

## Self-Check: PASSED
