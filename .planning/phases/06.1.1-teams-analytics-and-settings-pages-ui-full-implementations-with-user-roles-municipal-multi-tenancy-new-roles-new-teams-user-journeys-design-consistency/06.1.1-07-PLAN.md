---
phase: 06.1.1-teams-analytics-settings
plan: 07
type: execute
wave: 3
depends_on: ["06.1.1-03", "06.1.1-04", "06.1.1-05", "06.1.1-06"]
files_modified:
  - frontend-dashboard/src/App.tsx
autonomous: false
requirements:
  - OPS-01
  - OPS-02
  - OPS-03
  - OPS-04
  - SEC-04

must_haves:
  truths:
    - "/teams route renders TeamsPage (not Coming Soon placeholder)"
    - "/analytics route renders AnalyticsPage (not Coming Soon placeholder)"
    - "/settings route renders SettingsPage (not Coming Soon placeholder)"
    - "Frontend builds with zero errors"
    - "All three pages are accessible from sidebar navigation"
  artifacts:
    - path: "frontend-dashboard/src/App.tsx"
      provides: "Updated routes for Teams, Analytics, Settings pages"
      contains: "TeamsPage"
  key_links:
    - from: "frontend-dashboard/src/App.tsx"
      to: "frontend-dashboard/src/pages/TeamsPage.tsx"
      via: "Route element prop"
      pattern: "TeamsPage"
    - from: "frontend-dashboard/src/App.tsx"
      to: "frontend-dashboard/src/pages/AnalyticsPage.tsx"
      via: "Route element prop"
      pattern: "AnalyticsPage"
    - from: "frontend-dashboard/src/App.tsx"
      to: "frontend-dashboard/src/pages/SettingsPage.tsx"
      via: "Route element prop"
      pattern: "SettingsPage"
---

<objective>
Wire all three new pages into App.tsx routing and verify the frontend builds cleanly.

Purpose: Replace the "Coming Soon" placeholder divs with actual page component imports. Verify the entire frontend-dashboard builds with zero errors — this is the integration checkpoint for the entire phase.

Output: Updated App.tsx with real routes. Clean build.
</objective>

<execution_context>
@C:/Users/Bantu/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Bantu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.1.1-teams-analytics-and-settings-pages-ui-full-implementations-with-user-roles-municipal-multi-tenancy-new-roles-new-teams-user-journeys-design-consistency/06.1.1-03-SUMMARY.md
@.planning/phases/06.1.1-teams-analytics-and-settings-pages-ui-full-implementations-with-user-roles-municipal-multi-tenancy-new-roles-new-teams-user-journeys-design-consistency/06.1.1-05-SUMMARY.md
@.planning/phases/06.1.1-teams-analytics-and-settings-pages-ui-full-implementations-with-user-roles-municipal-multi-tenancy-new-roles-new-teams-user-journeys-design-consistency/06.1.1-06-SUMMARY.md
@frontend-dashboard/src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Wire pages into App.tsx routing and fix build</name>
  <files>
    frontend-dashboard/src/App.tsx
  </files>
  <action>
1. In `frontend-dashboard/src/App.tsx`, add imports for the 3 new page components:
   ```typescript
   import { TeamsPage } from './pages/TeamsPage';
   import { AnalyticsPage } from './pages/AnalyticsPage';
   import { SettingsPage } from './pages/SettingsPage';
   ```

2. Replace the 3 placeholder routes (lines ~75-77) with actual page components:

   Before:
   ```
   <Route path="/teams" element={<DashboardLayout><div style={styles.placeholder}>Teams (Coming Soon)</div></DashboardLayout>} />
   <Route path="/analytics" element={<DashboardLayout><div style={styles.placeholder}>Analytics (Coming Soon)</div></DashboardLayout>} />
   <Route path="/settings" element={<DashboardLayout><div style={styles.placeholder}>Settings (Coming Soon)</div></DashboardLayout>} />
   ```

   After:
   ```
   <Route path="/teams" element={<DashboardLayout><TeamsPage /></DashboardLayout>} />
   <Route path="/analytics" element={<DashboardLayout><AnalyticsPage /></DashboardLayout>} />
   <Route path="/settings" element={<DashboardLayout><SettingsPage /></DashboardLayout>} />
   ```

3. Run the full frontend build:
   ```bash
   cd frontend-dashboard && npm run build
   ```

4. If build fails, diagnose and fix the errors. Common issues:
   - Missing imports or typos in component names
   - Type errors in API function signatures
   - Missing design token CSS variables
   - Circular imports between hooks and services

5. Once build passes, verify with TypeScript check:
   ```bash
   cd frontend-dashboard && npx tsc --noEmit
   ```

6. Fix any remaining TypeScript errors across all new files.
  </action>
  <verify>
    `cd frontend-dashboard && npm run build` exits with code 0.
    `cd frontend-dashboard && npx tsc --noEmit` exits with code 0 (or only pre-existing warnings).
  </verify>
  <done>All 3 routes point to real page components. Frontend builds with zero errors.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of all three pages</name>
  <files>frontend-dashboard/src/App.tsx</files>
  <action>
    Human verifies three complete dashboard pages replacing "Coming Soon" placeholders:
    1. Teams page (/teams) — card grid with team creation, detail modal with tabs, member management, invitations, role preview, permission matrix
    2. Analytics page (/analytics) — KPI stat cards with sparklines, time range controls, team leaderboard, category comparison, CSV export
    3. Settings page (/settings) — scrollable sections with anchor nav, municipality profile, SLA targets, notifications, branding, data export, audit log viewer, role-gated visibility

    Steps:
    1. Start the frontend dev server: `cd frontend-dashboard && npm run dev`
    2. Log in as an admin user
    3. Navigate to /teams — verify card grid renders, "+" card expands form, team card opens modal with tabs
    4. Navigate to /analytics — verify KPI cards render, time range buttons work, leaderboard and comparison sections visible
    5. Navigate to /settings — verify anchor nav, all 8 sections, Save buttons, audit log section visible for admin
    6. Log in as a manager — verify /settings hides Branding and Audit Log sections
    7. Check all 3 pages match the glassmorphic design system
  </action>
  <verify>User confirms all 3 pages render correctly with proper styling and functionality.</verify>
  <done>All 3 pages visually verified by user. Phase 06.1.1 complete.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds in frontend-dashboard/
2. All 3 routes render page components instead of placeholders
3. Sidebar navigation links to all 3 pages correctly
4. Pages use glassmorphic design system consistently
5. Role-gated content shows/hides correctly for admin vs manager
</verification>

<success_criteria>
- Zero "Coming Soon" placeholders for /teams, /analytics, /settings
- Frontend builds with zero errors
- All 3 pages visually match the established design system
- Admin sees all settings sections; manager sees subset
- User verifies pages look correct and function properly
</success_criteria>

<output>
After completion, create `.planning/phases/06.1.1-teams-analytics-and-settings-pages-ui-full-implementations-with-user-roles-municipal-multi-tenancy-new-roles-new-teams-user-journeys-design-consistency/06.1.1-07-SUMMARY.md`
</output>
